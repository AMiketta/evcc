{"version":3,"file":"index.4a24dcd4.js","sources":["../../vite/modulepreload-polyfill","../../assets/js/api.js","../../assets/js/store.js","../../plugin-vue:export-helper","../../assets/js/views/App.vue","../../assets/js/components/TopNavigation.vue","../../assets/js/mixins/formatter.js","../../assets/js/components/Energyflow/BatteryIcon.vue","../../assets/js/components/Energyflow/LabelBar.vue","../../assets/js/components/Energyflow/Visualization.vue","../../assets/js/components/Energyflow/EnergyflowEntry.vue","../../assets/js/components/Energyflow/Energyflow.vue","../../assets/js/components/Mode.vue","../../assets/js/mixins/collector.js","../../assets/js/components/LabelAndValue.vue","../../assets/js/components/VehicleSoc.vue","../../assets/js/components/VehicleStatus.vue","../../assets/js/components/TargetCharge.vue","../../assets/js/components/Vehicle.vue","../../assets/js/components/Phases.vue","../../assets/js/components/Loadpoint.vue","../../assets/js/components/Loadpoints.vue","../../assets/js/components/Version.vue","../../assets/js/components/Sponsor.vue","../../assets/js/components/Savings.vue","../../assets/js/components/Footer.vue","../../assets/js/components/Site.vue","../../assets/js/views/Main.vue","../../assets/js/views/Config.vue","../../assets/js/router.js","../../assets/js/i18n/de.js","../../assets/js/i18n/en.js","../../assets/js/i18n/it.js","../../assets/js/i18n/index.js","../../assets/js/app.js"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","import axios from \"axios\";\n\nconst { protocol, hostname, port, pathname } = window.location;\n\nconst api = axios.create({\n  baseURL: protocol + \"//\" + hostname + (port ? \":\" + port : \"\") + pathname + \"api/\",\n  headers: {\n    Accept: \"application/json\",\n  },\n});\n\n// global error handling\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    const url = error.config.baseURL + error.config.url;\n    const message = `${error.message}: API request failed ${url}`;\n    window.app.error({ message });\n  }\n);\n\nexport default api;\n","import { reactive } from \"vue\";\n\nfunction setProperty(obj, props, value) {\n  const prop = props.shift();\n  if (!obj[prop]) {\n    obj[prop] = {};\n  }\n\n  if (!props.length) {\n    if (value && typeof value === \"object\" && !Array.isArray(value)) {\n      obj[prop] = { ...obj[prop], ...value };\n    } else {\n      obj[prop] = value;\n    }\n    return;\n  }\n\n  setProperty(obj[prop], props, value);\n}\n\nconst state = reactive({\n  loadpoints: [], // ensure array type\n});\n\nconst store = {\n  state,\n  update: function (msg) {\n    Object.keys(msg).forEach(function (k) {\n      if (typeof window.app[k] === \"function\") {\n        window.app[k]({ message: msg[k] });\n      } else {\n        setProperty(state, k.split(\".\"), msg[k]);\n      }\n    });\n  },\n};\n\nexport default store;\n","\nexport default (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n}\n","<template>\n\t<div class=\"app overflow-hidden\">\n\t\t<router-view class=\"flex-grow-1 d-flex flex-column justify-content-stretch\"></router-view>\n\t</div>\n</template>\n\n<script>\nimport store from \"../store\";\n\nexport default {\n\tname: \"App\",\n\tprops: {\n\t\tnotifications: Array,\n\t},\n\tcomputed: {\n\t\ttitle: function () {\n\t\t\treturn store.state.siteTitle;\n\t\t},\n\t},\n\tcreated: function () {\n\t\tconst urlParams = new URLSearchParams(window.location.search);\n\t\tthis.compact = urlParams.get(\"compact\");\n\t\tsetTimeout(this.connect, 0);\n\t},\n\tmethods: {\n\t\tconnect: function () {\n\t\t\tconst supportsWebSockets = \"WebSocket\" in window;\n\t\t\tif (!supportsWebSockets) {\n\t\t\t\twindow.app.error({\n\t\t\t\t\tmessage: \"Web sockets not supported. Please upgrade your browser.\",\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst loc = window.location;\n\t\t\tconst protocol = loc.protocol == \"https:\" ? \"wss:\" : \"ws:\";\n\t\t\tconst uri =\n\t\t\t\tprotocol +\n\t\t\t\t\"//\" +\n\t\t\t\tloc.hostname +\n\t\t\t\t(loc.port ? \":\" + loc.port : \"\") +\n\t\t\t\tloc.pathname +\n\t\t\t\t\"ws\";\n\t\t\tconst ws = new WebSocket(uri);\n\t\t\tws.onerror = () => {\n\t\t\t\tws.close();\n\t\t\t};\n\t\t\tws.onclose = () => {\n\t\t\t\twindow.setTimeout(this.connect, 1000);\n\t\t\t};\n\t\t\tws.onmessage = (evt) => {\n\t\t\t\ttry {\n\t\t\t\t\tvar msg = JSON.parse(evt.data);\n\t\t\t\t\tstore.update(msg);\n\t\t\t\t} catch (error) {\n\t\t\t\t\twindow.app.error({\n\t\t\t\t\t\tmessage: `Failed to parse web socket data: ${error.message} [${evt.data}]`,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\treload() {\n\t\t\twindow.location.reload();\n\t\t},\n\t},\n\tmetaInfo() {\n\t\treturn {\n\t\t\ttitle: this.title ? `evcc | ${this.title}` : \"evcc\",\n\t\t};\n\t},\n};\n</script>\n<style scoped>\n.app {\n\tmin-height: 100vh;\n\tbackground-color: var(--bs-gray-dark);\n}\n</style>\n","<template>\n\t<div>\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tdata-bs-toggle=\"dropdown\"\n\t\t\tdata-bs-target=\"#navbarNavAltMarkup\"\n\t\t\taria-controls=\"navbarNavAltMarkup\"\n\t\t\taria-expanded=\"false\"\n\t\t\taria-label=\"Toggle navigation\"\n\t\t\tclass=\"btn btn-sm btn-outline-secondary\"\n\t\t>\n\t\t\t<shopicon-regular-menu></shopicon-regular-menu>\n\t\t</button>\n\t\t<ul class=\"dropdown-menu dropdown-menu-end\">\n\t\t\t<li>\n\t\t\t\t<a class=\"dropdown-item\" href=\"https://docs.evcc.io/blog/\" target=\"_blank\">\n\t\t\t\t\t{{ $t(\"header.blog\") }}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a class=\"dropdown-item\" href=\"https://docs.evcc.io/docs/Home/\" target=\"_blank\">\n\t\t\t\t\t{{ $t(\"header.docs\") }}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a class=\"dropdown-item\" href=\"https://github.com/evcc-io/evcc\" target=\"_blank\">\n\t\t\t\t\t{{ $t(\"header.github\") }}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a class=\"dropdown-item\" href=\"https://evcc.io/\" target=\"_blank\">\n\t\t\t\t\t{{ $t(\"header.about\") }}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</template>\n\n<script>\nimport \"@h2d2/shopicons/es/regular/menu\";\n\nexport default {\n\tname: \"TopNavigation\",\n};\n</script>\n","export default {\n  data: function () {\n    return {\n      fmtLimit: 100,\n      fmtDigits: 1,\n    };\n  },\n  methods: {\n    round: function (num, precision) {\n      var base = 10 ** precision;\n      return (Math.round(num * base) / base).toFixed(precision);\n    },\n    fmt: function (val) {\n      if (val === undefined || val === null) {\n        return 0;\n      }\n      val = Math.abs(val);\n      return val >= this.fmtLimit ? this.round(val / 1e3, this.fmtDigits) : this.round(val, 0);\n    },\n    fmtKw: function (watt = 0, kw = true, withUnit = true) {\n      const digits = kw ? 1 : 0;\n      const value = kw ? watt / 1000 : watt;\n      let unit = \"\";\n      if (withUnit) {\n        unit = kw ? \" kW\" : \" W\";\n      }\n      return `${new Intl.NumberFormat(this.$i18n.locale, {\n        style: \"decimal\",\n        minimumFractionDigits: digits,\n        maximumFractionDigits: digits,\n      }).format(value)}${unit}`;\n    },\n    fmtUnit: function (val) {\n      return Math.abs(val) >= this.fmtLimit ? \"k\" : \"\";\n    },\n    fmtDuration: function (d) {\n      if (d <= 0 || d == null) {\n        return \"—\";\n      }\n      var seconds = \"0\" + (d % 60);\n      var minutes = \"0\" + (Math.floor(d / 60) % 60);\n      var hours = \"\" + Math.floor(d / 3600);\n      if (hours.length < 2) {\n        hours = \"0\" + hours;\n      }\n      return hours + \":\" + minutes.substr(-2) + \":\" + seconds.substr(-2);\n    },\n    fmtShortDuration: function (duration = 0, withUnit = false) {\n      if (duration <= 0) {\n        return \"—\";\n      }\n      var seconds = duration % 60;\n      var minutes = Math.floor(duration / 60) % 60;\n      var hours = Math.floor(duration / 3600);\n      var result = \"\";\n      if (hours >= 1) {\n        result = hours + \":\" + `${minutes}`.padStart(2, \"0\");\n      } else if (minutes >= 1) {\n        result = minutes + \":\" + `${seconds}`.padStart(2, \"0\");\n      } else {\n        result = `${seconds}`;\n      }\n      if (withUnit) {\n        result += this.fmtShortDurationUnit(duration);\n      }\n      return result;\n    },\n    fmtShortDurationUnit: function (duration = 0) {\n      if (duration <= 0) {\n        return \"\";\n      }\n      var minutes = Math.floor(duration / 60) % 60;\n      var hours = Math.floor(duration / 3600);\n      if (hours >= 1) {\n        return \"h\";\n      }\n      if (minutes >= 1) {\n        return \"m\";\n      }\n      return \"s\";\n    },\n    fmtDayString: function (date) {\n      const YY = `${date.getFullYear()}`;\n      const MM = `${date.getMonth() + 1}`.padStart(2, \"0\");\n      const DD = `${date.getDate()}`.padStart(2, \"0\");\n      return `${YY}-${MM}-${DD}`;\n    },\n    fmtTimeString: function (date) {\n      const HH = `${date.getHours()}`.padStart(2, \"0\");\n      const mm = `${date.getMinutes()}`.padStart(2, \"0\");\n      return `${HH}:${mm}`;\n    },\n    fmtAbsoluteDate: function (date) {\n      return new Intl.DateTimeFormat(this.$i18n.locale, {\n        weekday: \"short\",\n        hour: \"numeric\",\n        minute: \"numeric\",\n      }).format(date);\n    },\n    fmtMoney: function (amout = 0, currency = \"EUR\") {\n      return new Intl.NumberFormat(this.$i18n.locale, {\n        style: \"currency\",\n        currency,\n      }).format(amout);\n    },\n    fmtPricePerKWh: function (amout = 0, currency = \"EUR\") {\n      let unit = currency;\n      let value = amout;\n      let maximumFractionDigits = 3;\n      if ([\"EUR\", \"USD\"].includes(currency)) {\n        value *= 100;\n        unit = \"ct\";\n        maximumFractionDigits = 1;\n      }\n      return `${new Intl.NumberFormat(this.$i18n.locale, {\n        style: \"decimal\",\n        maximumFractionDigits,\n      }).format(value)} ${unit}/kWh`;\n    },\n    fmtTimeAgo: function (elapsed) {\n      const units = {\n        day: 24 * 60 * 60 * 1000,\n        hour: 60 * 60 * 1000,\n        minute: 60 * 1000,\n        second: 1000,\n      };\n\n      const rtf = new Intl.RelativeTimeFormat(this.$i18n.locale, { numeric: \"auto\" });\n\n      // \"Math.abs\" accounts for both \"past\" & \"future\" scenarios\n      for (var u in units)\n        if (Math.abs(elapsed) > units[u] || u == \"second\")\n          return rtf.format(Math.round(elapsed / units[u]), u);\n    },\n  },\n};\n","<template>\n\t<component :is=\"`shopicon-regular-${icon}`\"></component>\n</template>\n\n<script>\nimport \"@h2d2/shopicons/es/regular/batteryfull\";\nimport \"@h2d2/shopicons/es/regular/batterythreequarters\";\nimport \"@h2d2/shopicons/es/regular/batteryhalf\";\nimport \"@h2d2/shopicons/es/regular/batteryquarter\";\nimport \"@h2d2/shopicons/es/regular/batteryempty\";\n\nexport default {\n\tname: \"BatteryIcon\",\n\tprops: {\n\t\tsoc: { type: Number, default: 0 },\n\t},\n\tcomputed: {\n\t\ticon: function () {\n\t\t\tif (this.soc > 80) return \"batteryfull\";\n\t\t\tif (this.soc > 60) return \"batterythreequarters\";\n\t\t\tif (this.soc > 40) return \"batteryhalf\";\n\t\t\tif (this.soc > 20) return \"batteryquarter\";\n\t\t\treturn \"batteryempty\";\n\t\t},\n\t},\n};\n</script>\n","<template>\n\t<div\n\t\tclass=\"label-bar\"\n\t\t:class=\"{\n\t\t\t'label-bar--hide-icon': hideIcon,\n\t\t\t'label-bar--hidden': !value,\n\t\t\t'label-bar--top': top,\n\t\t\t'label-bar--bottom': bottom,\n\t\t\t'label-bar--first': first,\n\t\t\t'label-bar--last': last,\n\t\t}\"\n\t>\n\t\t<div class=\"label-bar-scale\">\n\t\t\t<div class=\"label-bar-icon\">\n\t\t\t\t<slot />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"LabelBar\",\n\tprops: {\n\t\tvalue: { type: Number, default: 0 },\n\t\thideIcon: { type: Boolean },\n\t\ttop: { type: Boolean },\n\t\tbottom: { type: Boolean },\n\t\tfirst: { type: Boolean },\n\t\tlast: { type: Boolean },\n\t},\n};\n</script>\n<style scoped>\n.label-bar {\n\twidth: 0;\n\tmargin: 0;\n\tpadding: 10px 0;\n\topacity: 1;\n\toverflow: hidden;\n}\n.label-bar-scale--hidden {\n\topacity: 0;\n}\n.label-bar-scale {\n\tborder: 1px solid var(--bs-gray-medium);\n\theight: 14px;\n\tbackground: none;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twhite-space: nowrap;\n\tborder-radius: 0;\n\ttransition: border-radius 500ms linear;\n}\n.label-bar--top .label-bar-scale {\n\tborder-top-left-radius: 10px;\n\tborder-top-right-radius: 10px;\n\tborder-bottom: none;\n}\n.label-bar--bottom .label-bar-scale {\n\tborder-bottom-left-radius: 10px;\n\tborder-bottom-right-radius: 10px;\n\tborder-top: none;\n}\n.label-bar-icon {\n\tbackground-color: white;\n\tcolor: var(--bs-gray-dark);\n\tpadding: 0 0.3rem;\n\topacity: 1;\n}\n.label-bar--top .label-bar-icon {\n\tmargin-top: -12px;\n}\n.label-bar--bottom .label-bar-icon {\n\tmargin-top: 12px;\n}\n.label-bar--hide-icon .label-bar-icon {\n\topacity: 0;\n}\n.label-bar--hidden {\n\topacity: 0;\n}\n</style>\n","<template>\n\t<div class=\"visualization\" :class=\"{ 'visualization--ready': visualizationReady }\">\n\t\t<div class=\"label-scale d-flex\">\n\t\t\t<div class=\"d-flex justify-content-start flex-grow-1\">\n\t\t\t\t<LabelBar v-bind=\"labelBarProps('top', 'pvProduction')\">\n\t\t\t\t\t<shopicon-regular-sun></shopicon-regular-sun>\n\t\t\t\t</LabelBar>\n\t\t\t\t<LabelBar v-bind=\"labelBarProps('top', 'batteryDischarge')\">\n\t\t\t\t\t<BatteryIcon :soc=\"batterySoC\" />\n\t\t\t\t</LabelBar>\n\t\t\t\t<LabelBar v-bind=\"labelBarProps('top', 'gridImport')\">\n\t\t\t\t\t<shopicon-regular-powersupply></shopicon-regular-powersupply>\n\t\t\t\t</LabelBar>\n\t\t\t</div>\n\t\t\t<div class=\"label-scale-name\">In</div>\n\t\t</div>\n\t\t<div ref=\"site_progress\" class=\"site-progress\">\n\t\t\t<div\n\t\t\t\tclass=\"site-progress-bar self-consumption\"\n\t\t\t\t:style=\"{ width: widthTotal(selfConsumptionAdjusted) }\"\n\t\t\t>\n\t\t\t\t<span v-if=\"powerLabelEnoughSpace(selfConsumption)\" class=\"power\">\n\t\t\t\t\t{{ kw(selfConsumption) }}\n\t\t\t\t</span>\n\t\t\t\t<span v-else-if=\"powerLabelSomeSpace(selfConsumption)\" class=\"power\">\n\t\t\t\t\t{{ kwNoUnit(selfConsumption) }}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclass=\"site-progress-bar grid-import\"\n\t\t\t\t:style=\"{ width: widthTotal(gridImportAdjusted) }\"\n\t\t\t>\n\t\t\t\t<span v-if=\"powerLabelEnoughSpace(gridImport)\" class=\"power\">\n\t\t\t\t\t{{ kw(gridImport) }}\n\t\t\t\t</span>\n\t\t\t\t<span v-else-if=\"powerLabelSomeSpace(gridImport)\" class=\"power\">\n\t\t\t\t\t{{ kwNoUnit(gridImport) }}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclass=\"site-progress-bar pv-export\"\n\t\t\t\t:style=\"{ width: widthTotal(pvExportAdjusted) }\"\n\t\t\t>\n\t\t\t\t<span v-if=\"powerLabelEnoughSpace(pvExport)\" class=\"power\">\n\t\t\t\t\t{{ kw(pvExport) }}\n\t\t\t\t</span>\n\t\t\t\t<span v-else-if=\"powerLabelSomeSpace(pvExport)\" class=\"power\">\n\t\t\t\t\t{{ kwNoUnit(pvExport) }}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div v-if=\"totalAdjusted <= 0\" class=\"site-progress-bar bg-light border no-wrap w-100\">\n\t\t\t\t<span>{{ $t(\"main.energyflow.noEnergy\") }}</span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"label-scale d-flex\">\n\t\t\t<div class=\"d-flex justify-content-start flex-grow-1\">\n\t\t\t\t<LabelBar v-bind=\"labelBarProps('bottom', 'homePower')\">\n\t\t\t\t\t<shopicon-regular-home></shopicon-regular-home>\n\t\t\t\t</LabelBar>\n\t\t\t\t<LabelBar v-bind=\"labelBarProps('bottom', 'loadpoints')\">\n\t\t\t\t\t<shopicon-regular-car3></shopicon-regular-car3>\n\t\t\t\t</LabelBar>\n\t\t\t\t<LabelBar v-bind=\"labelBarProps('bottom', 'batteryCharge')\">\n\t\t\t\t\t<BatteryIcon :soc=\"batterySoC\" />\n\t\t\t\t</LabelBar>\n\t\t\t\t<LabelBar v-bind=\"labelBarProps('bottom', 'gridExport')\">\n\t\t\t\t\t<shopicon-regular-powersupply></shopicon-regular-powersupply>\n\t\t\t\t</LabelBar>\n\t\t\t</div>\n\t\t\t<div class=\"label-scale-name\">Out</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport formatter from \"../../mixins/formatter\";\nimport BatteryIcon from \"./BatteryIcon.vue\";\nimport LabelBar from \"./LabelBar.vue\";\nimport \"@h2d2/shopicons/es/regular/car3\";\nimport \"@h2d2/shopicons/es/regular/sun\";\nimport \"@h2d2/shopicons/es/regular/home\";\n\nexport default {\n\tname: \"Visualization\",\n\tcomponents: { BatteryIcon, LabelBar },\n\tmixins: [formatter],\n\tprops: {\n\t\tgridImport: { type: Number, default: 0 },\n\t\tselfConsumption: { type: Number, default: 0 },\n\t\tpvExport: { type: Number, default: 0 },\n\t\tloadpoints: { type: Number, default: 0 },\n\t\tbatteryCharge: { type: Number, default: 0 },\n\t\tbatteryDischarge: { type: Number, default: 0 },\n\t\tpvProduction: { type: Number, default: 0 },\n\t\thomePower: { type: Number, default: 0 },\n\t\tbatterySoC: { type: Number, default: 0 },\n\t\tvaluesInKw: { type: Boolean, default: false },\n\t},\n\tdata: function () {\n\t\treturn { width: 0, visualizationReady: false };\n\t},\n\tcomputed: {\n\t\tgridExport: function () {\n\t\t\treturn this.applyThreshold(this.pvExport);\n\t\t},\n\t\ttotalRaw: function () {\n\t\t\treturn this.gridImport + this.selfConsumption + this.pvExport;\n\t\t},\n\t\tgridImportAdjusted: function () {\n\t\t\treturn this.applyThreshold(this.gridImport);\n\t\t},\n\t\tselfConsumptionAdjusted: function () {\n\t\t\treturn this.applyThreshold(this.selfConsumption);\n\t\t},\n\t\tpvExportAdjusted: function () {\n\t\t\treturn this.applyThreshold(this.pvExport);\n\t\t},\n\t\ttotalAdjusted: function () {\n\t\t\treturn this.gridImportAdjusted + this.selfConsumptionAdjusted + this.pvExportAdjusted;\n\t\t},\n\t},\n\twatch: {\n\t\ttotalAdjusted: function () {\n\t\t\tif (!this.visualizationReady && this.totalAdjusted > 0)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.visualizationReady = true;\n\t\t\t\t}, 500);\n\t\t},\n\t},\n\tmounted: function () {\n\t\tthis.$nextTick(function () {\n\t\t\twindow.addEventListener(\"resize\", this.updateElementWidth);\n\t\t\tthis.updateElementWidth();\n\t\t});\n\t},\n\tbeforeDestroy() {\n\t\twindow.removeEventListener(\"resize\", this.updateElementWidth);\n\t},\n\tmethods: {\n\t\twidthTotal: function (power) {\n\t\t\tif (this.totalAdjusted === 0) return \"0%\";\n\t\t\treturn (100 / this.totalAdjusted) * power + \"%\";\n\t\t},\n\t\tkw: function (watt) {\n\t\t\treturn this.fmtKw(watt, this.valuesInKw, true);\n\t\t},\n\t\tkwNoUnit: function (watt) {\n\t\t\treturn this.fmtKw(watt, this.valuesInKw, false);\n\t\t},\n\t\tpowerLabelAvailableSpace(power) {\n\t\t\tif (this.totalAdjusted === 0) return 0;\n\t\t\tconst percent = (100 / this.totalAdjusted) * power;\n\t\t\treturn (this.width / 100) * percent;\n\t\t},\n\t\tpowerLabelEnoughSpace(power) {\n\t\t\treturn this.powerLabelAvailableSpace(power) > 60;\n\t\t},\n\t\tpowerLabelSomeSpace(power) {\n\t\t\treturn this.powerLabelAvailableSpace(power) > 35;\n\t\t},\n\t\thideLabelIcon(power, minWidth = 32) {\n\t\t\tif (this.totalAdjusted === 0) return true;\n\t\t\tconst percent = (100 / this.totalAdjusted) * power;\n\t\t\treturn (this.width / 100) * percent < minWidth;\n\t\t},\n\t\tapplyThreshold(power) {\n\t\t\tconst percent = (100 / this.totalRaw) * power;\n\t\t\treturn percent < 2 ? 0 : power;\n\t\t},\n\t\tupdateElementWidth() {\n\t\t\tthis.width = this.$refs.site_progress.getBoundingClientRect().width;\n\t\t},\n\t\tlabelBarProps(position, name) {\n\t\t\tconst value = this[name];\n\t\t\tconst minWidth = 40;\n\t\t\treturn {\n\t\t\t\tvalue,\n\t\t\t\thideIcon: this.hideLabelIcon(value, minWidth),\n\t\t\t\tstyle: { width: this.widthTotal(value) },\n\t\t\t\t[position]: true,\n\t\t\t};\n\t\t},\n\t},\n};\n</script>\n<style scoped>\n.site-progress {\n\t--height: 2.5rem;\n\theight: var(--height);\n\tborder-radius: 10px;\n\tdisplay: flex;\n\toverflow: hidden;\n\tmargin-right: 1.2rem;\n}\n.label-scale-name {\n\tcolor: var(--bs-gray-medium);\n\tflex-basis: 1.2rem;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n\twriting-mode: tb-rl;\n\tline-height: 1;\n\ttext-align: center;\n}\n.site-progress-bar {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\toverflow: hidden;\n\tposition: relative;\n\twidth: 0;\n}\n.visualization--ready .site-progress-bar {\n\ttransition-property: width;\n\ttransition-duration: 500ms;\n\ttransition-timing-function: linear;\n}\n.grid-import {\n\tbackground-color: var(--evcc-grid);\n\tcolor: var(--bs-white);\n}\n.self-consumption {\n\tbackground-color: var(--evcc-self);\n\tcolor: var(--bs-white);\n}\n.pv-export {\n\tbackground-color: var(--evcc-export);\n\tcolor: var(--bs-dark);\n}\n.power {\n\tdisplay: block;\n\tmargin: 0 0.2rem;\n\twhite-space: nowrap;\n\toverflow: hidden;\n}\n.visualization--ready >>> .label-bar {\n\ttransition-property: width, opacity;\n\ttransition-duration: 500ms, 250ms;\n\ttransition-timing-function: linear, ease;\n}\n.visualization--ready >>> .label-bar-icon {\n\ttransition: opacity 250ms ease-in;\n}\n</style>\n","<template>\n\t<div class=\"d-flex justify-content-between mb-2\">\n\t\t<span class=\"d-flex flex-nowrap\">\n\t\t\t<shopicon-regular-angledoublerightsmall\n\t\t\t\tv-if=\"!isSource\"\n\t\t\t\tclass=\"arrow\"\n\t\t\t\t:class=\"{ 'arrow--active': active }\"\n\t\t\t></shopicon-regular-angledoublerightsmall>\n\t\t\t<BatteryIcon v-if=\"isBattery\" :soc=\"soc\" />\n\t\t\t<component :is=\"`shopicon-regular-${icon}`\" v-else></component>\n\t\t\t<shopicon-regular-angledoublerightsmall\n\t\t\t\tv-if=\"isSource\"\n\t\t\t\tclass=\"arrow\"\n\t\t\t\t:class=\"{ 'arrow--active': active }\"\n\t\t\t></shopicon-regular-angledoublerightsmall>\n\t\t</span>\n\t\t<span class=\"text-nowrap flex-grow-1 ms-3\">{{ name }}</span>\n\t\t<span class=\"text-end text-nowrap ps-1 fw-bold\"\n\t\t\t><span v-if=\"hasSoC\">{{ soc }}% / </span>{{ kw(power) }}</span\n\t\t>\n\t</div>\n</template>\n\n<script>\nimport \"@h2d2/shopicons/es/regular/angledoublerightsmall\";\nimport \"@h2d2/shopicons/es/regular/powersupply\";\nimport \"@h2d2/shopicons/es/regular/sun\";\nimport \"@h2d2/shopicons/es/regular/home\";\nimport \"@h2d2/shopicons/es/regular/car3\";\nimport BatteryIcon from \"./BatteryIcon.vue\";\nimport formatter from \"../../mixins/formatter\";\n\nexport default {\n\tname: \"EnergyflowEntry\",\n\tcomponents: { BatteryIcon },\n\tmixins: [formatter],\n\tprops: {\n\t\tname: { type: String },\n\t\ticon: { type: String },\n\t\tpower: { type: Number },\n\t\tsoc: { type: Number },\n\t\ttype: { type: String }, // source, consumer\n\t\tvaluesInKw: { type: Boolean },\n\t},\n\tcomputed: {\n\t\tactive: function () {\n\t\t\treturn this.power > 10;\n\t\t},\n\t\tisSource: function () {\n\t\t\treturn this.type === \"source\";\n\t\t},\n\t\tisBattery: function () {\n\t\t\treturn this.icon === \"battery\";\n\t\t},\n\t\thasSoC: function () {\n\t\t\treturn this.isBattery && !isNaN(this.soc);\n\t\t},\n\t},\n\tmethods: {\n\t\tkw: function (watt) {\n\t\t\treturn this.fmtKw(watt, this.valuesInKw);\n\t\t},\n\t},\n};\n</script>\n<style scoped>\n.arrow {\n\topacity: 0;\n\ttransform: translateX(-20%);\n\ttransition-property: opacity, transform;\n\ttransition-duration: 0.75s, 5s;\n\ttransition-timing-function: ease-in;\n}\n.arrow--active {\n\topacity: 1;\n\ttransform: translateX(0);\n\ttransition-duration: 0.75s, 0.75s;\n}\n</style>\n","<template>\n\t<div class=\"energyflow\">\n\t\t<div class=\"row cursor-pointer\" @click=\"toggleDetails\">\n\t\t\t<Visualization\n\t\t\t\tclass=\"col-12 mb-3\"\n\t\t\t\t:gridImport=\"gridImport\"\n\t\t\t\t:selfConsumption=\"selfConsumption\"\n\t\t\t\t:loadpoints=\"loadpointsPower\"\n\t\t\t\t:pvExport=\"pvExport\"\n\t\t\t\t:batteryCharge=\"batteryCharge\"\n\t\t\t\t:batteryDischarge=\"batteryDischarge\"\n\t\t\t\t:pvProduction=\"pvProduction\"\n\t\t\t\t:homePower=\"homePower\"\n\t\t\t\t:batterySoC=\"batterySoC\"\n\t\t\t\t:valuesInKw=\"valuesInKw\"\n\t\t\t/>\n\t\t</div>\n\t\t<div class=\"details\">\n\t\t\t<div class=\"details-inner row\" data-collapsible-details>\n\t\t\t\t<div class=\"col-12 d-flex justify-content-between pt-2 mb-4\">\n\t\t\t\t\t<div class=\"d-flex flex-nowrap\">\n\t\t\t\t\t\t<span class=\"color-self me-2\"\n\t\t\t\t\t\t\t><shopicon-filled-square></shopicon-filled-square\n\t\t\t\t\t\t></span>\n\t\t\t\t\t\t<span>{{ $t(\"main.energyflow.selfConsumption\") }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"gridImport > 0\" class=\"d-flex flex-nowrap\">\n\t\t\t\t\t\t<span>{{ $t(\"main.energyflow.gridImport\") }}</span>\n\t\t\t\t\t\t<span class=\"color-grid ms-2\"\n\t\t\t\t\t\t\t><shopicon-filled-square></shopicon-filled-square\n\t\t\t\t\t\t></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-else class=\"d-flex flex-nowrap\">\n\t\t\t\t\t\t<span>{{ $t(\"main.energyflow.pvExport\") }}</span>\n\t\t\t\t\t\t<span class=\"color-export ms-2\"\n\t\t\t\t\t\t\t><shopicon-filled-square></shopicon-filled-square\n\t\t\t\t\t\t></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"col-12 col-md-6 pe-md-5 pb-4 d-flex flex-column justify-content-between\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"d-flex justify-content-between align-items-end mb-4\">\n\t\t\t\t\t\t<h3 class=\"m-0\">In</h3>\n\t\t\t\t\t\t<span class=\"fw-bold opacity-25\">{{ kw(inPower) }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<EnergyflowEntry\n\t\t\t\t\t\t\t:name=\"$t('main.energyflow.pvProduction')\"\n\t\t\t\t\t\t\ticon=\"sun\"\n\t\t\t\t\t\t\t:power=\"pvProduction\"\n\t\t\t\t\t\t\t:valuesInKw=\"valuesInKw\"\n\t\t\t\t\t\t\ttype=\"source\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<EnergyflowEntry\n\t\t\t\t\t\t\tv-if=\"batteryConfigured\"\n\t\t\t\t\t\t\t:name=\"$t('main.energyflow.batteryDischarge')\"\n\t\t\t\t\t\t\ticon=\"battery\"\n\t\t\t\t\t\t\t:soc=\"batterySoC\"\n\t\t\t\t\t\t\t:power=\"batteryDischarge\"\n\t\t\t\t\t\t\t:valuesInKw=\"valuesInKw\"\n\t\t\t\t\t\t\ttype=\"source\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<EnergyflowEntry\n\t\t\t\t\t\t\t:name=\"$t('main.energyflow.gridImport')\"\n\t\t\t\t\t\t\ticon=\"powersupply\"\n\t\t\t\t\t\t\t:power=\"gridImport\"\n\t\t\t\t\t\t\t:valuesInKw=\"valuesInKw\"\n\t\t\t\t\t\t\ttype=\"source\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"col-12 col-md-6 ps-md-5 pb-4 d-flex flex-column justify-content-between\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"d-flex justify-content-between align-items-end mb-4\">\n\t\t\t\t\t\t<h3 class=\"m-0\">Out</h3>\n\t\t\t\t\t\t<span class=\"fw-bold opacity-25\">{{ kw(outPower) }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<EnergyflowEntry\n\t\t\t\t\t\t\t:name=\"$t('main.energyflow.homePower')\"\n\t\t\t\t\t\t\ticon=\"home\"\n\t\t\t\t\t\t\t:power=\"homePower\"\n\t\t\t\t\t\t\t:valuesInKw=\"valuesInKw\"\n\t\t\t\t\t\t\ttype=\"consumer\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<EnergyflowEntry\n\t\t\t\t\t\t\t:name=\"\n\t\t\t\t\t\t\t\t$tc('main.energyflow.loadpoints', activeLoadpointsCount, {\n\t\t\t\t\t\t\t\t\tcount: activeLoadpointsCount,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\ticon=\"car3\"\n\t\t\t\t\t\t\t:power=\"loadpointsPower\"\n\t\t\t\t\t\t\t:valuesInKw=\"valuesInKw\"\n\t\t\t\t\t\t\ttype=\"consumer\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<EnergyflowEntry\n\t\t\t\t\t\t\tv-if=\"batteryConfigured\"\n\t\t\t\t\t\t\t:name=\"$t('main.energyflow.batteryCharge')\"\n\t\t\t\t\t\t\ticon=\"battery\"\n\t\t\t\t\t\t\t:soc=\"batterySoC\"\n\t\t\t\t\t\t\t:power=\"batteryCharge\"\n\t\t\t\t\t\t\t:valuesInKw=\"valuesInKw\"\n\t\t\t\t\t\t\ttype=\"consumer\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<EnergyflowEntry\n\t\t\t\t\t\t\t:name=\"$t('main.energyflow.pvExport')\"\n\t\t\t\t\t\t\ticon=\"powersupply\"\n\t\t\t\t\t\t\t:power=\"pvExport\"\n\t\t\t\t\t\t\t:valuesInKw=\"valuesInKw\"\n\t\t\t\t\t\t\ttype=\"consumer\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport \"@h2d2/shopicons/es/filled/square\";\nimport Visualization from \"./Visualization.vue\";\nimport EnergyflowEntry from \"./EnergyflowEntry.vue\";\nimport formatter from \"../../mixins/formatter\";\n\nexport default {\n\tname: \"Energyflow\",\n\tcomponents: { Visualization, EnergyflowEntry },\n\tmixins: [formatter],\n\tprops: {\n\t\tgridConfigured: Boolean,\n\t\tgridPower: { type: Number, default: 0 },\n\t\thomePower: { type: Number, default: 0 },\n\t\tpvConfigured: Boolean,\n\t\tpvPower: { type: Number, default: 0 },\n\t\tloadpointsPower: { type: Number, default: 0 },\n\t\tactiveLoadpointsCount: { type: Number, default: 0 },\n\t\tbatteryConfigured: Boolean,\n\t\tbatteryPower: { type: Number, default: 0 },\n\t\tbatterySoC: { type: Number, default: 0 },\n\t},\n\tcomputed: {\n\t\tgridImport: function () {\n\t\t\treturn Math.max(0, this.gridPower);\n\t\t},\n\t\tpvProduction: function () {\n\t\t\treturn this.pvConfigured ? Math.abs(this.pvPower) : this.pvExport;\n\t\t},\n\t\tbatteryPowerAdjusted: function () {\n\t\t\tconst batteryPowerThreshold = 50;\n\t\t\treturn Math.abs(this.batteryPower) < batteryPowerThreshold ? 0 : this.batteryPower;\n\t\t},\n\t\tbatteryDischarge: function () {\n\t\t\treturn Math.abs(Math.max(0, this.batteryPowerAdjusted));\n\t\t},\n\t\tbatteryCharge: function () {\n\t\t\treturn Math.abs(Math.min(0, this.batteryPowerAdjusted) * -1);\n\t\t},\n\t\tselfConsumption: function () {\n\t\t\tconst ownPower = this.batteryDischarge + this.pvProduction;\n\t\t\tconst consumption = this.homePower + this.batteryCharge + this.loadpointsPower;\n\t\t\treturn Math.min(ownPower, consumption);\n\t\t},\n\t\tpvExport: function () {\n\t\t\treturn Math.max(0, this.gridPower * -1);\n\t\t},\n\t\tvaluesInKw: function () {\n\t\t\treturn this.gridImport + this.selfConsumption + this.pvExport > 1000;\n\t\t},\n\t\tinPower: function () {\n\t\t\treturn this.gridImport + this.pvProduction + this.batteryDischarge;\n\t\t},\n\t\toutPower: function () {\n\t\t\treturn this.homePower + this.loadpointsPower + this.pvExport + this.batteryCharge;\n\t\t},\n\t},\n\tmethods: {\n\t\tkw: function (watt) {\n\t\t\treturn this.fmtKw(watt, this.valuesInKw);\n\t\t},\n\t\ttoggleDetails: function () {\n\t\t\tthis.$emit(\"toggle-details\");\n\t\t},\n\t},\n};\n</script>\n<style scoped>\n.energyflow {\n\tbackground: var(--bs-white);\n}\n.details {\n\theight: 0;\n\toverflow: visible;\n}\n.color-grid {\n\tcolor: var(--evcc-grid);\n}\n.color-self {\n\tcolor: var(--evcc-self);\n}\n.color-export {\n\tcolor: var(--evcc-export);\n}\n</style>\n","<template>\n\t<div>\n\t\t<div class=\"mode-group border d-inline-flex\" role=\"group\">\n\t\t\t<button\n\t\t\t\tv-for=\"m in modes\"\n\t\t\t\t:key=\"m\"\n\t\t\t\ttype=\"button\"\n\t\t\t\tclass=\"btn btn-sm\"\n\t\t\t\t:class=\"{ active: mode == m }\"\n\t\t\t\t@click=\"setTargetMode(m)\"\n\t\t\t>\n\t\t\t\t<span class=\"d-inline d-sm-none\"> {{ $t(`main.mode.${m}Short`) }} </span>\n\t\t\t\t<span class=\"d-none d-sm-inline\"> {{ $t(`main.mode.${m}Long`) }} </span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"Mode\",\n\tprops: {\n\t\tmode: String,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmodes: [\"off\", \"now\", \"minpv\", \"pv\"],\n\t\t};\n\t},\n\tmethods: {\n\t\tsetTargetMode: function (mode) {\n\t\t\tthis.$emit(\"updated\", mode);\n\t\t},\n\t},\n};\n</script>\n\n<style scoped></style>\n\n<style scoped>\n.mode-group {\n\tborder: 2px solid var(--bs-gray-medium);\n\tbackground-color: var(--bs-white);\n\tborder-radius: 20px;\n\tpadding: 4px;\n}\n\n.btn {\n\t/* equal width buttons */\n\tflex-basis: 0;\n\twhite-space: nowrap;\n\tborder-radius: 18px;\n\tpadding: 0.1em 0.8em;\n}\n.btn.active {\n\tbackground: var(--bs-gray-dark);\n\tcolor: var(--bs-white);\n}\n.btn-group {\n\tborder-radius: 16px;\n}\n</style>\n","export default {\n  methods: {\n    // collect all target component properties from current instance\n    collectProps: function (component) {\n      let data = {};\n      for (var p in component.props) {\n        data[p] = this[p];\n      }\n      return data;\n    },\n  },\n};\n","<template>\n\t<div>\n\t\t<div class=\"mb-2 label\">{{ label }}</div>\n\t\t<h3 class=\"value\">\n\t\t\t{{ value }}<span v-if=\"extraValue\" class=\"extraValue\"> / {{ extraValue }}</span>\n\t\t</h3>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"LabelAndValue\",\n\tprops: {\n\t\tlabel: String,\n\t\tvalue: String,\n\t\textraValue: String,\n\t},\n};\n</script>\n<style scoped>\n.label {\n\ttext-transform: uppercase;\n\tcolor: var(--bs-gray-medium);\n\tfont-size: 14px;\n}\n.value {\n\tfont-size: 18px;\n}\n.extraValue {\n\tcolor: var(--bs-gray-medium);\n\tfont-size: 14px;\n}\n</style>\n","<template>\n\t<div class=\"vehicle-soc\">\n\t\t<div class=\"progress\">\n\t\t\t<div\n\t\t\t\tclass=\"progress-bar\"\n\t\t\t\trole=\"progressbar\"\n\t\t\t\t:class=\"progressColor\"\n\t\t\t\t:style=\"{ width: `${vehicleSoCDisplayWidth}%` }\"\n\t\t\t></div>\n\t\t\t<div\n\t\t\t\tv-if=\"remainingSoCWidth > 0 && enabled\"\n\t\t\t\tclass=\"progress-bar bg-muted\"\n\t\t\t\trole=\"progressbar\"\n\t\t\t\t:class=\"progressColor\"\n\t\t\t\t:style=\"{ width: `${remainingSoCWidth}%`, transition: 'none' }\"\n\t\t\t></div>\n\t\t</div>\n\t\t<div class=\"target\">\n\t\t\t<div\n\t\t\t\tclass=\"target-label d-flex align-items-center justify-content-center\"\n\t\t\t\t:style=\"{ left: `${visibleTargetSoC}%` }\"\n\t\t\t></div>\n\t\t\t<input\n\t\t\t\ttype=\"range\"\n\t\t\t\tmin=\"0\"\n\t\t\t\tmax=\"100\"\n\t\t\t\tstep=\"5\"\n\t\t\t\t:value=\"visibleTargetSoC\"\n\t\t\t\tclass=\"target-slider\"\n\t\t\t\t@input=\"movedTargetSoC\"\n\t\t\t\t@mousedown=\"changeTargetSoCStart\"\n\t\t\t\t@touchstart=\"changeTargetSoCStart\"\n\t\t\t\t@mouseup=\"changeTargetSoCEnd\"\n\t\t\t\t@touchend=\"changeTargetSoCEnd\"\n\t\t\t/>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"VehicleSoc\",\n\tprops: {\n\t\tconnected: Boolean,\n\t\tvehiclePresent: Boolean,\n\t\tvehicleSoC: Number,\n\t\tenabled: Boolean,\n\t\tcharging: Boolean,\n\t\tminSoC: Number,\n\t\ttargetSoC: Number,\n\t},\n\tdata: function () {\n\t\treturn {\n\t\t\tselectedTargetSoC: null,\n\t\t\tinteractionStartScreenY: null,\n\t\t};\n\t},\n\tcomputed: {\n\t\tvehicleSoCDisplayWidth: function () {\n\t\t\tif (this.vehiclePresent && this.vehicleSoC >= 0) {\n\t\t\t\treturn this.vehicleSoC;\n\t\t\t}\n\t\t\treturn 100;\n\t\t},\n\t\tprogressColor: function () {\n\t\t\tif (!this.connected) {\n\t\t\t\treturn \"bg-light border\";\n\t\t\t}\n\t\t\tif (this.minSoCActive) {\n\t\t\t\treturn \"bg-danger\";\n\t\t\t}\n\t\t\treturn \"bg-primary\";\n\t\t},\n\t\tminSoCActive: function () {\n\t\t\treturn this.minSoC > 0 && this.vehicleSoC < this.minSoC;\n\t\t},\n\t\tremainingSoCWidth: function () {\n\t\t\tif (this.vehicleSoCDisplayWidth === 100) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (this.minSoCActive) {\n\t\t\t\treturn this.minSoC - this.vehicleSoC;\n\t\t\t}\n\t\t\tif (this.visibleTargetSoC > this.vehicleSoC) {\n\t\t\t\treturn this.visibleTargetSoC - this.vehicleSoC;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tvisibleTargetSoC: function () {\n\t\t\treturn Number(this.selectedTargetSoC || this.targetSoC);\n\t\t},\n\t},\n\twatch: {\n\t\ttargetSoC: function () {\n\t\t\tthis.selectedTargetSoC = this.targetSoC;\n\t\t},\n\t},\n\tmethods: {\n\t\tchangeTargetSoCStart: function (e) {\n\t\t\tconst screenY = e.screenY || e.changedTouches[0].screenY;\n\t\t\tthis.interactionStartScreenY = screenY;\n\t\t},\n\t\tchangeTargetSoCEnd: function (e) {\n\t\t\tconst screenY = e.screenY || e.changedTouches[0].screenY;\n\t\t\tconst yDiff = Math.abs(screenY - this.interactionStartScreenY);\n\t\t\t// horizontal scroll detected - revert slider change\n\t\t\tif (yDiff > 80) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.target.value = this.targetSoC;\n\t\t\t\tthis.selectedTargetSoC = this.targetSoC;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// value changed\n\t\t\tif (e.target.value !== this.targetSoC) {\n\t\t\t\tthis.$emit(\"target-soc-updated\", e.target.value);\n\t\t\t}\n\t\t},\n\t\tmovedTargetSoC: function (e) {\n\t\t\tconst minTargetSoC = 20;\n\t\t\tif (e.target.value < minTargetSoC) {\n\t\t\t\te.target.value = minTargetSoC;\n\t\t\t\tthis.selectedTargetSoC = e.target.value;\n\t\t\t\te.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.selectedTargetSoC = e.target.value;\n\t\t\treturn true;\n\t\t},\n\t},\n};\n</script>\n<style scoped>\n.vehicle-soc {\n\t--height: 32px;\n\t--thumb-overlap: 6px;\n\t--thumb-width: 12px;\n\t--thumb-horizontal-padding: 15px;\n\t--label-height: 26px;\n\tposition: relative;\n\theight: var(--height);\n}\n.progress {\n\theight: 100%;\n\tfont-size: 1rem;\n}\n.progress-bar.bg-muted {\n\tcolor: var(--white);\n}\n.bg-light {\n\tcolor: var(--bs-gray-dark);\n}\n.target-label {\n\twidth: 3em;\n\tmargin-left: -1.5em;\n\theight: var(--label-height);\n\tposition: absolute;\n\ttop: calc((var(--label-height) + var(--thumb-overlap)) * -1);\n\ttext-align: center;\n\tcolor: var(--bs-gray-dark);\n\tfont-size: 1rem;\n\topacity: 1;\n\ttransition: opacity 0.2s ease 1s;\n}\n.target-slider {\n\t-webkit-appearance: none;\n\tposition: absolute;\n\ttop: calc(var(--thumb-overlap) * -1);\n\tleft: calc(var(--thumb-horizontal-padding) * -1);\n\theight: calc(100% + 2 * var(--thumb-overlap));\n\twidth: calc(100% + 2 * var(--thumb-horizontal-padding));\n\tbackground: transparent;\n}\n.target-slider:focus {\n\toutline: none;\n}\n/* Note: Safari,Chrome,Blink and Firefox specific styles need to be in separate definitions to work */\n.target-slider::-webkit-slider-runnable-track {\n\tposition: relative;\n\tbackground: transparent;\n\tborder: none;\n\theight: 100%;\n\tcursor: pointer;\n}\n.target-slider::-moz-range-track {\n\tbackground: transparent;\n\tborder: none;\n\theight: 100%;\n\tcursor: pointer;\n}\n.target-slider::-webkit-slider-thumb {\n\t-webkit-appearance: none;\n\tposition: relative;\n\tmargin-left: calc(var(--thumb-width) / 2 * -1);\n\theight: 100%;\n\twidth: var(--thumb-width);\n\tbackground-color: var(--evcc-dark-green);\n\tcursor: grab;\n\tborder: none;\n\topacity: 1;\n\tborder-radius: var(--thumb-overlap);\n\tbox-shadow: none;\n}\n.target-slider::-moz-range-thumb {\n\tposition: relative;\n\tmargin-left: calc(var(--thumb-width) / 2 * -1);\n\theight: 100%;\n\twidth: var(--thumb-width);\n\tbackground-color: var(--evcc-dark-green);\n\tcursor: grab;\n\tborder: none;\n\topacity: 1;\n\tborder-radius: var(--thumb-overlap);\n\tbox-shadow: none;\n}\n</style>\n","<template>\n\t<div class=\"d-block text-gray\">{{ message }}&nbsp;</div>\n</template>\n\n<script>\nimport collector from \"../mixins/collector\";\nimport formatter from \"../mixins/formatter\";\n\nexport default {\n\tname: \"VehicleStatus\",\n\tmixins: [collector, formatter],\n\tprops: {\n\t\tvehicleSoC: Number,\n\t\tminSoC: Number,\n\t\tenabled: Boolean,\n\t\tconnected: Boolean,\n\t\tcharging: Boolean,\n\t\ttargetTime: String,\n\t\tphaseAction: String,\n\t\tphaseRemainingInterpolated: Number,\n\t\tpvAction: String,\n\t\tpvRemainingInterpolated: Number,\n\t},\n\tcomputed: {\n\t\tphaseTimerActive() {\n\t\t\treturn (\n\t\t\t\tthis.charging &&\n\t\t\t\tthis.phaseRemainingInterpolated > 0 &&\n\t\t\t\t[\"scale1p\", \"scale3p\"].includes(this.phaseAction)\n\t\t\t);\n\t\t},\n\t\tpvTimerActive() {\n\t\t\treturn (\n\t\t\t\tthis.pvRemainingInterpolated > 0 && [\"enable\", \"disable\"].includes(this.pvAction)\n\t\t\t);\n\t\t},\n\t\tmessage: function () {\n\t\t\tconst t = (key, data) => {\n\t\t\t\treturn this.$t(`main.vehicleStatus.${key}`, data);\n\t\t\t};\n\n\t\t\t// min charge active\n\t\t\tif (this.minSoC > 0 && this.vehicleSoC < this.minSoC) {\n\t\t\t\treturn t(\"minCharge\", { soc: this.minSoC });\n\t\t\t}\n\n\t\t\t// target charage\n\t\t\tif (this.targetTime) {\n\t\t\t\tconst targetDate = new Date(this.targetTime);\n\t\t\t\tconst data = { time: this.fmtAbsoluteDate(targetDate) };\n\n\t\t\t\tif (this.charging) {\n\t\t\t\t\treturn t(\"targetChargeActive\", data);\n\t\t\t\t}\n\t\t\t\tif (this.enabled) {\n\t\t\t\t\treturn t(\"targetChargeWaitForVehicle\", data);\n\t\t\t\t}\n\t\t\t\treturn t(\"targetChargePlanned\", data);\n\t\t\t}\n\n\t\t\t// pv enable\n\t\t\tif (this.pvTimerActive && !this.enabled && this.pvAction === \"enable\") {\n\t\t\t\treturn t(\"pvEnable\", {\n\t\t\t\t\tremaining: this.fmtShortDuration(this.pvRemainingInterpolated, true),\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// waiting for vehicle\n\t\t\tif (this.enabled && !this.charging) {\n\t\t\t\treturn t(\"waitForVehicle\");\n\t\t\t}\n\n\t\t\t// pv disable\n\t\t\tif (this.pvTimerActive && this.charging && this.pvAction === \"disable\") {\n\t\t\t\treturn t(\"pvDisable\", {\n\t\t\t\t\tremaining: this.fmtShortDuration(this.pvRemainingInterpolated, true),\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// phase timer\n\t\t\tif (this.phaseTimerActive) {\n\t\t\t\treturn t(this.phaseAction, {\n\t\t\t\t\tremaining: this.fmtShortDuration(this.phaseRemainingInterpolated, true),\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// charging\n\t\t\tif (this.charging) {\n\t\t\t\treturn t(\"charging\");\n\t\t\t}\n\n\t\t\t// connected\n\t\t\tif (this.connected) {\n\t\t\t\treturn t(\"connected\");\n\t\t\t}\n\n\t\t\treturn \"\";\n\t\t},\n\t},\n};\n</script>\n","<template>\n\t<div>\n\t\t<div class=\"d-flex justify-content-between justify-content-center\">\n\t\t\t<h5 class=\"title text-gray-medium text-uppercase\">\n\t\t\t\t{{ $t(\"main.targetCharge.title\") }}\n\t\t\t</h5>\n\t\t\t<button\n\t\t\t\tv-if=\"!targetChargeEnabled\"\n\t\t\t\tclass=\"btn btn-link text-gray-medium p-0\"\n\t\t\t\tdata-bs-toggle=\"modal\"\n\t\t\t\t:data-bs-target=\"`#${modalId}`\"\n\t\t\t>\n\t\t\t\t<shopicon-filled-plus size=\"s\"></shopicon-filled-plus>\n\t\t\t</button>\n\t\t</div>\n\t\t<div\n\t\t\tv-if=\"targetChargeEnabled\"\n\t\t\tclass=\"d-flex justify-content-between justify-content-center\"\n\t\t>\n\t\t\t<p class=\"my-2\">{{ targetTime }}</p>\n\t\t\t<button\n\t\t\t\tclass=\"btn btn-link text-gray-medium p-0\"\n\t\t\t\tdata-bs-toggle=\"modal\"\n\t\t\t\t:data-bs-target=\"`#${modalId}`\"\n\t\t\t>\n\t\t\t\t<shopicon-filled-edit size=\"s\"></shopicon-filled-edit>\n\t\t\t</button>\n\t\t</div>\n\t\t<p v-else class=\"my-2\">{{ $t(\"main.targetCharge.noTargetTime\") }}</p>\n\t\t<div\n\t\t\t:id=\"modalId\"\n\t\t\tclass=\"modal fade text-dark\"\n\t\t\tdata-bs-backdrop=\"false\"\n\t\t\ttabindex=\"-1\"\n\t\t\trole=\"dialog\"\n\t\t\taria-hidden=\"true\"\n\t\t>\n\t\t\t<div class=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\" role=\"document\">\n\t\t\t\t<div class=\"modal-content\">\n\t\t\t\t\t<div class=\"modal-header\">\n\t\t\t\t\t\t<h5 class=\"modal-title\">\n\t\t\t\t\t\t\t{{ $t(\"main.targetCharge.modalTitle\") }}\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclass=\"btn-close\"\n\t\t\t\t\t\t\tdata-bs-dismiss=\"modal\"\n\t\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\t></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<form @submit.prevent=\"setTargetTime\">\n\t\t\t\t\t\t<div class=\"modal-body\">\n\t\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t\t<!-- eslint-disable vue/no-v-html -->\n\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\tfor=\"targetTimeLabel\"\n\t\t\t\t\t\t\t\t\tclass=\"mb-3\"\n\t\t\t\t\t\t\t\t\tv-html=\"$t('main.targetCharge.description', { targetSoC })\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<!-- eslint-enable vue/no-v-html -->\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"d-flex justify-content-between\"\n\t\t\t\t\t\t\t\t\t:style=\"{ 'max-width': '350px' }\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tv-model=\"selectedDay\"\n\t\t\t\t\t\t\t\t\t\tclass=\"form-select me-2\"\n\t\t\t\t\t\t\t\t\t\t:style=\"{ 'flex-basis': '60%' }\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\tv-for=\"opt in dayOptions()\"\n\t\t\t\t\t\t\t\t\t\t\t:key=\"opt.value\"\n\t\t\t\t\t\t\t\t\t\t\t:value=\"opt.value\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{{ opt.name }}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tv-model=\"selectedTime\"\n\t\t\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\t\t\tclass=\"form-control ms-2\"\n\t\t\t\t\t\t\t\t\t\t:style=\"{ 'flex-basis': '40%' }\"\n\t\t\t\t\t\t\t\t\t\t:step=\"60 * 5\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p v-if=\"!selectedTargetTimeValid\" class=\"text-danger mb-0\">\n\t\t\t\t\t\t\t\t{{ $t(\"main.targetCharge.targetIsInThePast\") }}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p class=\"small mt-3 text-muted\">\n\t\t\t\t\t\t\t\t<strong class=\"text-primary\">\n\t\t\t\t\t\t\t\t\t<fa-icon icon=\"flask\"></fa-icon>\n\t\t\t\t\t\t\t\t\t{{ $t(\"main.targetCharge.experimentalLabel\") }}:\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t{{ $t(\"main.targetCharge.experimentalText\") }}\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref=\"https://github.com/evcc-io/evcc/discussions/1433\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t>GitHub Discussions</a\n\t\t\t\t\t\t\t\t>.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"modal-footer d-flex justify-content-between\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclass=\"btn btn-outline-secondary\"\n\t\t\t\t\t\t\t\tdata-bs-dismiss=\"modal\"\n\t\t\t\t\t\t\t\t@click=\"removeTargetTime\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ $t(\"main.targetCharge.remove\") }}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tclass=\"btn btn-primary\"\n\t\t\t\t\t\t\t\tdata-bs-dismiss=\"modal\"\n\t\t\t\t\t\t\t\t:disabled=\"!selectedTargetTimeValid\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ $t(\"main.targetCharge.activate\") }}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport \"@h2d2/shopicons/es/filled/plus\";\nimport \"@h2d2/shopicons/es/filled/edit\";\n\nimport formatter from \"../mixins/formatter\";\n\nconst DEFAULT_TARGET_HOUR = 7;\n\nexport default {\n\tname: \"TargetCharge\",\n\tmixins: [formatter],\n\tprops: {\n\t\tid: Number,\n\t\ttargetTime: String,\n\t\ttargetTimeActive: Boolean,\n\t\ttargetTimeHourSuggestion: Number,\n\t\ttargetSoC: Number,\n\t},\n\tdata: function () {\n\t\treturn { selectedDay: null, selectedTime: null };\n\t},\n\tcomputed: {\n\t\ttargetChargeEnabled: function () {\n\t\t\treturn this.targetTime;\n\t\t},\n\t\tselectedTargetTimeValid: function () {\n\t\t\tconst now = new Date();\n\t\t\treturn now < this.selectedTargetTime;\n\t\t},\n\t\tselectedTargetTime: function () {\n\t\t\treturn new Date(`${this.selectedDay}T${this.selectedTime || \"00:00\"}`);\n\t\t},\n\t\tmodalId: function () {\n\t\t\treturn `targetChargeModal_${this.id}`;\n\t\t},\n\t},\n\twatch: {\n\t\ttargetTime() {\n\t\t\tthis.initInputFields();\n\t\t},\n\t},\n\tmounted: function () {\n\t\tthis.initInputFields();\n\t},\n\tmethods: {\n\t\t// not computed because it needs to update over time\n\t\ttargetTimeLabel: function () {\n\t\t\tif (this.targetChargeEnabled) {\n\t\t\t\tconst targetDate = new Date(this.targetTime);\n\t\t\t\treturn this.$t(\"main.targetCharge.activeLabel\", {\n\t\t\t\t\ttime: this.fmtAbsoluteDate(targetDate),\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this.$t(\"main.targetCharge.inactiveLabel\");\n\t\t},\n\t\tdefaultDate: function () {\n\t\t\tconst target = new Date();\n\t\t\ttarget.setSeconds(0);\n\t\t\ttarget.setMinutes(0);\n\t\t\tif (Number.isInteger(this.targetTimeHourSuggestion)) {\n\t\t\t\ttarget.setUTCHours(this.targetTimeHourSuggestion);\n\t\t\t} else {\n\t\t\t\ttarget.setHours(DEFAULT_TARGET_HOUR);\n\t\t\t}\n\t\t\t// today or tomorrow?\n\t\t\tconst isInPast = target < new Date();\n\t\t\tif (isInPast) {\n\t\t\t\ttarget.setDate(target.getDate() + 1);\n\t\t\t}\n\t\t\treturn target;\n\t\t},\n\t\tinitInputFields: function () {\n\t\t\tlet date = this.defaultDate();\n\t\t\tlet targetTimeInTheFuture = new Date(this.targetTime) > new Date();\n\t\t\tif (this.targetChargeEnabled && targetTimeInTheFuture) {\n\t\t\t\tdate = new Date(this.targetTime);\n\t\t\t}\n\t\t\tthis.selectedDay = this.fmtDayString(date);\n\t\t\tthis.selectedTime = this.fmtTimeString(date);\n\t\t},\n\t\tdayOptions: function () {\n\t\t\tconst options = [];\n\t\t\tconst date = new Date();\n\t\t\tconst labels = [\n\t\t\t\tthis.$t(\"main.targetCharge.today\"),\n\t\t\t\tthis.$t(\"main.targetCharge.tomorrow\"),\n\t\t\t];\n\t\t\tfor (let i = 0; i < 7; i++) {\n\t\t\t\tconst dayNumber = date.toLocaleDateString(\"default\", {\n\t\t\t\t\tmonth: \"short\",\n\t\t\t\t\tday: \"numeric\",\n\t\t\t\t});\n\t\t\t\tconst dayName =\n\t\t\t\t\tlabels[i] || date.toLocaleDateString(\"default\", { weekday: \"long\" });\n\t\t\t\toptions.push({\n\t\t\t\t\tvalue: date.toISOString().split(\"T\")[0],\n\t\t\t\t\tname: `${dayNumber} (${dayName})`,\n\t\t\t\t});\n\t\t\t\tdate.setDate(date.getDate() + 1);\n\t\t\t}\n\t\t\treturn options;\n\t\t},\n\t\tminTime: function () {\n\t\t\treturn new Date().toISOString().split(\"T\")[1].slice(0, -8);\n\t\t},\n\t\tsetTargetTime: function () {\n\t\t\tthis.$emit(\"target-time-updated\", this.selectedTargetTime);\n\t\t},\n\t\tremoveTargetTime: function () {\n\t\t\tthis.$emit(\"target-time-removed\");\n\t\t},\n\t},\n};\n</script>\n\n<style scoped>\n.title {\n\tfont-size: 14px;\n}\n</style>\n","<template>\n\t<div class=\"vehicle p-4\">\n\t\t<div class=\"d-flex justify-content-between mb-2 align-items-center\">\n\t\t\t<h4 class=\"d-flex align-items-center m-0\">\n\t\t\t\t<shopicon-regular-car3 size=\"m\" class=\"me-2\"></shopicon-regular-car3>\n\t\t\t\t{{ vehicleTitle || $t(\"main.vehicle.fallbackName\") }}\n\t\t\t</h4>\n\t\t\t<button class=\"btn btn-link text-white p-0\">\n\t\t\t\t<shopicon-filled-options size=\"s\"></shopicon-filled-options>\n\t\t\t</button>\n\t\t</div>\n\t\t<VehicleStatus\n\t\t\tv-bind=\"vehicleStatus\"\n\t\t\tclass=\"mb-2\"\n\t\t\t@target-time-updated=\"setTargetTime\"\n\t\t\t@target-time-removed=\"removeTargetTime\"\n\t\t/>\n\t\t<VehicleSoc v-bind=\"vehicleSocProps\" class=\"mb-4\" @target-soc-updated=\"targetSocUpdated\" />\n\t\t<div class=\"d-flex\">\n\t\t\t<LabelAndValue\n\t\t\t\tclass=\"flex-grow-1\"\n\t\t\t\t:label=\"$t('main.vehicle.vehicleSoC')\"\n\t\t\t\t:value=\"`${vehicleSoC} %`\"\n\t\t\t\t:extraValue=\"vehicleRange ? `${vehicleRange} km` : null\"\n\t\t\t/>\n\t\t\t<LabelAndValue\n\t\t\t\tclass=\"flex-grow-1\"\n\t\t\t\t:label=\"$t('main.vehicle.targetSoC')\"\n\t\t\t\t:value=\"`${displayTargetSoC} %`\"\n\t\t\t/>\n\t\t</div>\n\t\t<hr class=\"divider my-3\" />\n\t\t<TargetCharge\n\t\t\tv-bind=\"targetCharge\"\n\t\t\t@target-time-updated=\"setTargetTime\"\n\t\t\t@target-time-removed=\"removeTargetTime\"\n\t\t/>\n\t</div>\n</template>\n\n<script>\nimport \"@h2d2/shopicons/es/filled/options\";\nimport \"@h2d2/shopicons/es/regular/car3\";\n\nimport collector from \"../mixins/collector\";\nimport LabelAndValue from \"./LabelAndValue.vue\";\nimport VehicleSoc from \"./VehicleSoc.vue\";\nimport VehicleStatus from \"./VehicleStatus.vue\";\nimport TargetCharge from \"./TargetCharge.vue\";\n\nexport default {\n\tname: \"Vehicle\",\n\tcomponents: { VehicleSoc, VehicleStatus, LabelAndValue, TargetCharge },\n\tmixins: [collector],\n\tprops: {\n\t\tid: Number,\n\t\tconnected: Boolean,\n\t\tvehiclePresent: Boolean,\n\t\tvehicleSoC: Number,\n\t\tenabled: Boolean,\n\t\tcharging: Boolean,\n\t\tminSoC: Number,\n\t\tvehicleRange: Number,\n\t\tvehicleTitle: String,\n\t\ttargetTimeActive: Boolean,\n\t\ttargetTimeHourSuggestion: Number,\n\t\ttargetTime: String,\n\t\ttargetSoC: Number,\n\t\tphaseAction: String,\n\t\tphaseRemainingInterpolated: Number,\n\t\tpvAction: String,\n\t\tpvRemainingInterpolated: Number,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdisplayTargetSoC: this.targetSoC,\n\t\t};\n\t},\n\tcomputed: {\n\t\tvehicleSocProps: function () {\n\t\t\treturn this.collectProps(VehicleSoc);\n\t\t},\n\t\tvehicleStatus: function () {\n\t\t\treturn this.collectProps(VehicleStatus);\n\t\t},\n\t\ttargetCharge: function () {\n\t\t\treturn this.collectProps(TargetCharge);\n\t\t},\n\t},\n\tmethods: {\n\t\ttargetSocUpdated: function (targetSoC) {\n\t\t\tthis.displayTargetSoC = targetSoC;\n\t\t\tthis.$emit(\"target-soc-updated\", targetSoC);\n\t\t},\n\t\tsetTargetTime: function (targetTime) {\n\t\t\tthis.$emit(\"target-time-updated\", targetTime);\n\t\t},\n\t\tremoveTargetTime: function () {\n\t\t\tthis.$emit(\"target-time-removed\");\n\t\t},\n\t},\n};\n</script>\n\n<style scoped>\n.vehicle {\n\tbackground-color: var(--bs-gray-dark);\n\tborder-radius: 20px;\n\tcolor: var(--bs-white);\n}\n.divider {\n\tborder: none;\n\tborder-top: 1px solid var(--bs-gray-medium);\n}\n</style>\n","<template>\n\t<div\n\t\tclass=\"phases d-flex flex-column justify-content-between\"\n\t\t:class=\"`active-phases-${activePhases}`\"\n\t>\n\t\t<div v-for=\"num in [1, 2, 3]\" :key=\"num\" class=\"phase\" :class=\"{ inactive: inactive(num) }\">\n\t\t\t<div class=\"target\" :style=\"{ width: `${targetWidth()}%` }\"></div>\n\t\t\t<div class=\"real\" :style=\"{ width: `${realWidth(num)}%` }\"></div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"Phases\",\n\tprops: {\n\t\tchargeCurrent: { type: Number },\n\t\tchargeCurrents: { type: Object },\n\t\tactivePhases: { type: Number },\n\t\tminCurrent: { type: Number },\n\t\tmaxCurrent: { type: Number },\n\t\tphaseAction: { type: String },\n\t\tphaseRemaining: { type: Number },\n\t},\n\tcomputed: {\n\t\tphaseTimerVisible() {\n\t\t\tif (this.phaseTimerActive && !this.pvTimerActive) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (this.phaseTimerActive && this.pvTimerActive) {\n\t\t\t\treturn this.phaseRemainingInterpolated < this.pvRemainingInterpolated; // only show next timer\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tpvTimerVisible() {\n\t\t\tif (this.pvTimerActive && !this.phaseTimerActive) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (this.pvTimerActive && this.phaseTimerActive) {\n\t\t\t\treturn this.pvRemainingInterpolated < this.phaseRemainingInterpolated; // only show next timer\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t},\n\tmethods: {\n\t\tinactive(num) {\n\t\t\treturn num > this.activePhases;\n\t\t},\n\t\ttargetWidth() {\n\t\t\tlet current = Math.min(Math.max(this.minCurrent, this.chargeCurrent), this.maxCurrent);\n\t\t\treturn (100 / this.maxCurrent) * current;\n\t\t},\n\t\trealWidth(num) {\n\t\t\tif (this.chargeCurrents) {\n\t\t\t\tconst current = this.chargeCurrents[num - 1] || 0;\n\t\t\t\treturn (100 / this.maxCurrent) * current;\n\t\t\t}\n\t\t\treturn this.targetWidth();\n\t\t},\n\t},\n};\n</script>\n\n<style scoped>\n.phases {\n\theight: 10px;\n}\n.phase {\n\tbackground-color: var(--bs-gray-200);\n\theight: 2px;\n\twidth: 100%;\n\tposition: relative;\n}\n.target,\n.real {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbottom: 0;\n}\n.target {\n\tbackground-color: var(--evcc-green);\n}\n.real {\n\tbackground-color: var(--evcc-dark-green);\n}\n.phase.inactive,\n.phase.inactive .inner,\n.phase.inactive .real {\n\tbackground-color: var(--bs-gray-200);\n}\n</style>\n","<template>\n\t<div class=\"loadpoint bg-white px-4 px-sm-5 py-4\">\n\t\t<div class=\"d-flex justify-content-between align-items-center mb-4 flex-wrap\">\n\t\t\t<h3 class=\"mb-2 me-2\">\n\t\t\t\t{{ title || $t(\"main.loadpoint.fallbackName\") }}\n\t\t\t</h3>\n\t\t\t<Mode class=\"mb-2\" :mode=\"mode\" @updated=\"setTargetMode\" />\n\t\t</div>\n\n\t\t<div\n\t\t\tv-if=\"remoteDisabled\"\n\t\t\tclass=\"alert alert-warning my-4 py-2\"\n\t\t\t:class=\"`${remoteDisabled === 'hard' ? 'alert-danger' : 'alert-warning'}`\"\n\t\t\trole=\"alert\"\n\t\t>\n\t\t\t{{\n\t\t\t\t$t(\n\t\t\t\t\tremoteDisabled === \"hard\"\n\t\t\t\t\t\t? \"main.loadpoint.remoteDisabledHard\"\n\t\t\t\t\t\t: \"main.loadpoint.remoteDisabledSoft\",\n\t\t\t\t\t{ source: remoteDisabledSource }\n\t\t\t\t)\n\t\t\t}}\n\t\t</div>\n\n\t\t<div class=\"details d-flex align-items-start mb-3\">\n\t\t\t<div class=\"d-flex align-items-center\">\n\t\t\t\t<div>\n\t\t\t\t\t<LabelAndValue\n\t\t\t\t\t\t:label=\"$t('main.loadpoint.power')\"\n\t\t\t\t\t\t:value=\"fmtKw(chargePower)\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Phases\n\t\t\t\t\t\tv-bind=\"phasesProps\"\n\t\t\t\t\t\tclass=\"opacity-transiton\"\n\t\t\t\t\t\t:class=\"`opacity-${charging ? '100' : '0'}`\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<shopicon-regular-lightning\n\t\t\t\t\tclass=\"text-evcc opacity-transiton\"\n\t\t\t\t\t:class=\"`opacity-${charging ? '100' : '0'}`\"\n\t\t\t\t\tsize=\"m\"\n\t\t\t\t></shopicon-regular-lightning>\n\t\t\t</div>\n\t\t\t<LabelAndValue :label=\"$t('main.loadpoint.charged')\" :value=\"fmtKw(chargedEnergy)\" />\n\t\t\t<LabelAndValue\n\t\t\t\tv-if=\"chargeRemainingDurationInterpolated\"\n\t\t\t\t:label=\"$t('main.loadpoint.remaining')\"\n\t\t\t\t:value=\"`\n\t\t\t\t\t${fmtShortDuration(chargeRemainingDurationInterpolated)}\n\t\t\t\t\t${fmtShortDurationUnit(chargeRemainingDurationInterpolated, true)}`\"\n\t\t\t/>\n\t\t\t<LabelAndValue\n\t\t\t\tv-else\n\t\t\t\t:label=\"$t('main.loadpoint.duration')\"\n\t\t\t\t:value=\"`\n\t\t\t\t\t${fmtShortDuration(chargeDurationInterpolated)}\n\t\t\t\t\t${fmtShortDurationUnit(chargeDurationInterpolated)}`\"\n\t\t\t/>\n\t\t</div>\n\t\t<Vehicle\n\t\t\tv-bind=\"vehicle\"\n\t\t\t@target-soc-updated=\"setTargetSoC\"\n\t\t\t@target-time-updated=\"setTargetTime\"\n\t\t\t@target-time-removed=\"removeTargetTime\"\n\t\t/>\n\t</div>\n</template>\n\n<script>\nimport \"@h2d2/shopicons/es/regular/lightning\";\nimport api from \"../api\";\nimport Mode from \"./Mode.vue\";\nimport Vehicle from \"./Vehicle.vue\";\nimport Phases from \"./Phases.vue\";\nimport LabelAndValue from \"./LabelAndValue.vue\";\nimport formatter from \"../mixins/formatter\";\nimport collector from \"../mixins/collector\";\n\nexport default {\n\tname: \"Loadpoint\",\n\tcomponents: { Mode, Vehicle, Phases, LabelAndValue },\n\tmixins: [formatter, collector],\n\tprops: {\n\t\tid: Number,\n\t\tsingle: Boolean,\n\n\t\t// main\n\t\ttitle: String,\n\t\tmode: String,\n\t\ttargetSoC: Number,\n\t\tremoteDisabled: Boolean,\n\t\tremoteDisabledSource: String,\n\t\tchargeDuration: Number,\n\t\tcharging: Boolean,\n\n\t\t// vehicle\n\t\tconnected: Boolean,\n\t\t// charging: Boolean,\n\t\tenabled: Boolean,\n\t\tvehicleTitle: String,\n\t\tvehicleSoC: Number,\n\t\tvehiclePresent: Boolean,\n\t\tvehicleRange: Number,\n\t\tminSoC: Number,\n\t\ttargetTime: String,\n\t\ttargetTimeActive: Boolean,\n\t\ttargetTimeHourSuggestion: Number,\n\n\t\t// details\n\t\tchargePower: Number,\n\t\tchargedEnergy: Number,\n\t\t// chargeDuration: Number,\n\t\tclimater: String,\n\t\tchargeRemainingDuration: Number,\n\n\t\t// other information\n\t\tphases: Number,\n\t\tminCurrent: Number,\n\t\tmaxCurrent: Number,\n\t\tactivePhases: Number,\n\t\tchargeCurrent: Number,\n\t\tvehicleCapacity: Number,\n\t\tconnectedDuration: Number,\n\t\tchargeCurrents: Array,\n\t\tchargeConfigured: Boolean,\n\t\tchargeRemainingEnergy: Number,\n\t\tphaseAction: String,\n\t\tphaseRemaining: Number,\n\t\tpvRemaining: Number,\n\t\tpvAction: String,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttickerHandler: null,\n\t\t\tphaseRemainingInterpolated: this.phaseRemaining,\n\t\t\tpvRemainingInterpolated: this.pvRemaining,\n\t\t\tchargeDurationInterpolated: this.chargeDuration,\n\t\t\tchargeRemainingDurationInterpolated: this.chargeRemainingDuration,\n\t\t};\n\t},\n\tcomputed: {\n\t\tphasesProps: function () {\n\t\t\treturn this.collectProps(Phases);\n\t\t},\n\t\tvehicle: function () {\n\t\t\treturn this.collectProps(Vehicle);\n\t\t},\n\t},\n\twatch: {\n\t\tphaseRemaining() {\n\t\t\tthis.phaseRemainingInterpolated = this.phaseRemaining;\n\t\t},\n\t\tpvRemaining() {\n\t\t\tthis.pvRemainingInterpolated = this.pvRemaining;\n\t\t},\n\t\tchargeDuration() {\n\t\t\tthis.chargeDurationInterpolated = this.chargeDuration;\n\t\t},\n\t\tchargeRemainingDuration() {\n\t\t\tthis.chargeDurationInterpolated = this.chargeRemainingDuration;\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.tickerHandler = setInterval(this.tick, 1000);\n\t},\n\tdestroyed() {\n\t\tclearInterval(this.tickerHandler);\n\t},\n\tmethods: {\n\t\ttick() {\n\t\t\tif (this.phaseRemainingInterpolated > 0) {\n\t\t\t\tthis.phaseRemainingInterpolated--;\n\t\t\t}\n\t\t\tif (this.pvRemainingInterpolated > 0) {\n\t\t\t\tthis.pvRemainingInterpolated--;\n\t\t\t}\n\t\t\tif (this.chargeDurationInterpolated > 0 && this.charging) {\n\t\t\t\tthis.chargeDurationInterpolated++;\n\t\t\t}\n\t\t\tif (this.chargeRemainingDurationInterpolated > 0 && this.charging) {\n\t\t\t\tthis.chargeRemainingDurationInterpolated--;\n\t\t\t}\n\t\t},\n\t\tapiPath: function (func) {\n\t\t\treturn \"loadpoints/\" + this.id + \"/\" + func;\n\t\t},\n\t\tsetTargetMode: function (mode) {\n\t\t\tapi.post(this.apiPath(\"mode\") + \"/\" + mode);\n\t\t},\n\t\tsetTargetSoC: function (soc) {\n\t\t\tapi.post(this.apiPath(\"targetsoc\") + \"/\" + soc);\n\t\t},\n\t\tsetTargetTime: function (date) {\n\t\t\tconst formattedDate = `${this.fmtDayString(date)}T${this.fmtTimeString(date)}:00`;\n\t\t\tapi.post(this.apiPath(\"targetcharge\") + \"/\" + this.targetSoC + \"/\" + formattedDate);\n\t\t},\n\t\tremoveTargetTime: function () {\n\t\t\tapi.delete(this.apiPath(\"targetcharge\"));\n\t\t},\n\t},\n};\n</script>\n\n<style scoped>\n.loadpoint {\n\tborder-radius: 20px;\n\tcolor: var(--bs-gray-dark);\n}\n\n.details > div {\n\tflex-grow: 1;\n\tflex-basis: 0;\n}\n.details > div:nth-child(2) {\n\ttext-align: center;\n}\n.details > div:nth-child(3) {\n\ttext-align: right;\n}\n.opacity-transiton {\n\ttransition: opacity 0.7w5s ease-in;\n}\n</style>\n","<template>\n\t<div class=\"container px-0\">\n\t\t<div ref=\"carousel\" class=\"carousel d-lg-flex flex-wrap\">\n\t\t\t<div\n\t\t\t\tv-for=\"(loadpoint, index) in loadpoints\"\n\t\t\t\t:key=\"index\"\n\t\t\t\tclass=\"flex-grow-1 mb-3 me-lg-4 mx-lg-2 pb-lg-2\"\n\t\t\t>\n\t\t\t\t<Loadpoint\n\t\t\t\t\tv-bind=\"loadpoint\"\n\t\t\t\t\t:id=\"index\"\n\t\t\t\t\t:class=\"{ 'loadpoint-unselected': !selected(index) }\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"d-flex d-lg-none justify-content-center\">\n\t\t\t<button\n\t\t\t\tv-for=\"(loadpoint, index) in loadpoints\"\n\t\t\t\t:key=\"index\"\n\t\t\t\tclass=\"btn btn-sm btn-link p-0 mx-1 indicator d-flex justify-content-center align-items-center text-white\"\n\t\t\t\t@click=\"scrollTo(index)\"\n\t\t\t>\n\t\t\t\t<!--<shopicon-bold-lightning\n\t\t\t\t\tv-if=\"loadpoint.charging && selected(index)\"\n\t\t\t\t\tsize=\"s\"\n\t\t\t\t></shopicon-bold-lightning>\n\t\t\t\t<shopicon-light-lightning\n\t\t\t\t\tv-if=\"loadpoint.charging && !selected(index)\"\n\t\t\t\t\tsize=\"s\"\n\t\t\t\t></shopicon-light-lightning>-->\n\t\t\t\t<div\n\t\t\t\t\tclass=\"indicator--dot rounded-circle\"\n\t\t\t\t\t:class=\"{ 'bg-white': selected(index) }\"\n\t\t\t\t></div>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport \"@h2d2/shopicons/es/light/lightning\";\nimport \"@h2d2/shopicons/es/bold/lightning\";\n\nimport Loadpoint from \"./Loadpoint.vue\";\nimport collector from \"../mixins/collector\";\n\nexport default {\n\tname: \"Site\",\n\tcomponents: { Loadpoint },\n\tmixins: [collector],\n\tprops: {\n\t\tloadpoints: Array,\n\t},\n\tdata() {\n\t\treturn { selectedIndex: 0 };\n\t},\n\tmounted() {\n\t\tthis.$refs.carousel.addEventListener(\"scroll\", this.handleCarouselScroll, false);\n\t},\n\tdestroyed() {\n\t\tthis.$refs.carousel.removeEventListener(\"scroll\", this.handleCarouselScroll);\n\t},\n\tmethods: {\n\t\thandleCarouselScroll() {\n\t\t\tconst { offsetWidth, scrollLeft } = this.$refs.carousel;\n\t\t\tthis.selectedIndex = Math.round(scrollLeft / offsetWidth);\n\t\t},\n\t\tselected(index) {\n\t\t\treturn this.selectedIndex === index;\n\t\t},\n\t\tscrollTo(index) {\n\t\t\tconst $carousel = this.$refs.carousel;\n\t\t\tconst width = $carousel.offsetWidth;\n\t\t\t$carousel.style.scrollSnapType = \"none\";\n\t\t\t$carousel.scrollTo({ top: 0, left: width * index, behavior: \"smooth\" });\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.$refs.carousel.style.scrollSnapType = \"x mandatory\";\n\t\t\t}, 500);\n\t\t},\n\t},\n};\n</script>\n<style scoped>\n@media (max-width: 991.98px) {\n\t.carousel {\n\t\tscroll-snap-type: x mandatory;\n\t\toverflow-x: scroll;\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap !important;\n\t\tscrollbar-width: none; /* Firefox */\n\t\t-ms-overflow-style: none; /* IE 10+ */\n\t}\n\t.carousel::-webkit-scrollbar {\n\t\tdisplay: none; /* Blink, Webkit */\n\t}\n\t.carousel > * {\n\t\tscroll-snap-align: center;\n\t\tmin-width: 100%;\n\t}\n\t.indicator {\n\t\twidth: 32px;\n\t\theight: 32px;\n\t}\n\t.indicator--dot {\n\t\twidth: 10px;\n\t\theight: 10px;\n\t\tborder: 1px solid var(--bs-white);\n\t}\n\t.loadpoint {\n\t\topacity: 1;\n\t\ttransform: scale(1);\n\t\ttransition-property: opacity, transform;\n\t\ttransition-duration: 0.2s;\n\t\ttransition-timing-function: ease-in;\n\t}\n\t.loadpoint-unselected {\n\t\ttransform: scale(0.95);\n\t\topacity: 0.8;\n\t}\n}\n</style>\n","<template>\n\t<div>\n\t\t<button\n\t\t\tv-if=\"newVersionAvailable\"\n\t\t\thref=\"#\"\n\t\t\tdata-bs-toggle=\"modal\"\n\t\t\tdata-bs-target=\"#updateModal\"\n\t\t\tclass=\"btn btn-link ps-0 text-decoration-none text-white text-nowrap\"\n\t\t>\n\t\t\t<fa-icon icon=\"gift\" class=\"icon me-2\"></fa-icon>v{{ installed }}\n\t\t\t<span class=\"d-none d-xs-inline d-sm-none text-white text-decoration-underline\">\n\t\t\t\t{{ $t(\"footer.version.availableShort\") }}\n\t\t\t</span>\n\t\t\t<span class=\"d-none d-sm-inline text-muted text-white text-decoration-underline\">\n\t\t\t\t{{ $t(\"footer.version.availableLong\") }}\n\t\t\t</span>\n\t\t</button>\n\t\t<a\n\t\t\tv-else\n\t\t\t:href=\"releaseNotesUrl(installed)\"\n\t\t\ttarget=\"_blank\"\n\t\t\tclass=\"btn btn-link text-white ps-0 text-decoration-none text-nowrap\"\n\t\t>\n\t\t\t<span class=\"d-inline d-xs-none d-sm-none\">{{\n\t\t\t\t$t(\"footer.version.versionShort\", { installed })\n\t\t\t}}</span>\n\t\t\t<span class=\"d-none d-xs-inline d-sm-inline\">{{\n\t\t\t\t$t(\"footer.version.versionLong\", { installed })\n\t\t\t}}</span>\n\t\t</a>\n\n\t\t<div\n\t\t\tid=\"updateModal\"\n\t\t\tclass=\"modal fade text-dark\"\n\t\t\ttabindex=\"-1\"\n\t\t\trole=\"dialog\"\n\t\t\taria-hidden=\"true\"\n\t\t>\n\t\t\t<div class=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\" role=\"document\">\n\t\t\t\t<div class=\"modal-content\">\n\t\t\t\t\t<div class=\"modal-header\">\n\t\t\t\t\t\t<h5 class=\"modal-title\">{{ $t(\"footer.version.modalTitle\") }}</h5>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclass=\"btn-close\"\n\t\t\t\t\t\t\tdata-bs-dismiss=\"modal\"\n\t\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\t></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"modal-body\">\n\t\t\t\t\t\t<div v-if=\"updateStarted\">\n\t\t\t\t\t\t\t<p>{{ $t(\"footer.version.modalUpdateStarted\") }}</p>\n\t\t\t\t\t\t\t<div class=\"progress my-3\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"progress-bar progress-bar-striped progress-bar-animated\"\n\t\t\t\t\t\t\t\t\trole=\"progressbar\"\n\t\t\t\t\t\t\t\t\t:style=\"{ width: uploadProgress + '%' }\"\n\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p>{{ updateStatus }}{{ uploadMessage }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t{{ $t(\"footer.version.modalInstalledVersion\") }}:\n\t\t\t\t\t\t\t\t\t{{ installed }}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<!-- eslint-disable vue/no-v-html -->\n\t\t\t\t\t\t\t<div v-if=\"releaseNotes\" v-html=\"releaseNotes\"></div>\n\t\t\t\t\t\t\t<!-- eslint-enable vue/no-v-html -->\n\t\t\t\t\t\t\t<p v-else>\n\t\t\t\t\t\t\t\t{{ $t(\"footer.version.modalNoReleaseNotes\") }}\n\t\t\t\t\t\t\t\t<a :href=\"releaseNotesUrl(available)\">GitHub</a>.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"modal-footer d-flex justify-content-between\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclass=\"btn btn-outline-secondary\"\n\t\t\t\t\t\t\t:disabled=\"updateStarted\"\n\t\t\t\t\t\t\tdata-bs-dismiss=\"modal\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ $t(\"footer.version.modalCancel\") }}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tv-if=\"hasUpdater\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclass=\"btn btn-primary\"\n\t\t\t\t\t\t\t\t:disabled=\"updateStarted\"\n\t\t\t\t\t\t\t\t@click=\"update\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span v-if=\"updateStarted\">\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclass=\"spinner-border spinner-border-sm\"\n\t\t\t\t\t\t\t\t\t\trole=\"status\"\n\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t{{ $t(\"footer.version.modalUpdate\") }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span v-else>{{ $t(\"footer.version.modalUpdateNow\") }}</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<a v-else :href=\"releaseNotesUrl(available)\" class=\"btn btn-primary\">\n\t\t\t\t\t\t\t\t{{ $t(\"footer.version.modalDownload\") }}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport api from \"../api\";\n\nexport default {\n\tname: \"Version\",\n\tprops: {\n\t\tinstalled: String,\n\t\tavailable: String,\n\t\treleaseNotes: String,\n\t\tcommit: String,\n\t\thasUpdater: Boolean,\n\t\tuploadMessage: String,\n\t\tuploadProgress: Number,\n\t},\n\tdata: function () {\n\t\treturn {\n\t\t\tupdateStarted: false,\n\t\t\tupdateStatus: \"\",\n\t\t};\n\t},\n\tcomputed: {\n\t\tgithubHashUrl: function () {\n\t\t\treturn `https://github.com/evcc-io/evcc/commit/${this.commit}`;\n\t\t},\n\t\tnewVersionAvailable: function () {\n\t\t\treturn (\n\t\t\t\tthis.available && // available version already computed?\n\t\t\t\tthis.installed != \"[[.Version]]\" && // go template parsed?\n\t\t\t\tthis.installed != \"0.0.1-alpha\" && // make used?\n\t\t\t\tthis.available != this.installed\n\t\t\t);\n\t\t},\n\t},\n\tmethods: {\n\t\tupdate: async function () {\n\t\t\ttry {\n\t\t\t\tawait api.post(\"update\");\n\t\t\t\tthis.updateStatus = this.$t(\"footer.version.modalUpdateStatusStart\");\n\t\t\t\tthis.updateStarted = true;\n\t\t\t} catch (e) {\n\t\t\t\tthis.updateStatus = this.$t(\"footer.version.modalUpdateStatusStart\") + e;\n\t\t\t}\n\t\t},\n\t\treleaseNotesUrl: function (version) {\n\t\t\treturn `https://github.com/evcc-io/evcc/releases/tag/${version}`;\n\t\t},\n\t},\n};\n</script>\n\n<style scoped>\n.icon {\n\tcolor: var(--evcc-dark-green);\n}\n</style>\n","<template>\n\t<div v-if=\"sponsor\">\n\t\t<p class=\"mb-3\">\n\t\t\t{{ $t(\"footer.sponsor.thanks\", { sponsor }) }}\n\t\t</p>\n\t\t<div class=\"d-flex justify-content-center flex-column\">\n\t\t\t<button\n\t\t\t\tref=\"confetti\"\n\t\t\t\tclass=\"btn btn-primary mb-2 confetti-button bg-evcc\"\n\t\t\t\t@click=\"surprise\"\n\t\t\t>\n\t\t\t\t<fa-icon :icon=\"['fas', 'heart']\" class=\"icon me-1 solid\"></fa-icon>\n\t\t\t\t{{ $t(\"footer.sponsor.confetti\") }}\n\t\t\t</button>\n\t\t\t<a href=\"https://evcc.io/sticker\" target=\"_blank\" class=\"small text-muted text-center\">\n\t\t\t\t{{ $t(\"footer.sponsor.sticker\") }}\n\t\t\t</a>\n\t\t</div>\n\t</div>\n\t<div v-else>\n\t\t<p class=\"mb-3\">\n\t\t\t{{ $t(\"footer.sponsor.supportUs\") }}\n\t\t</p>\n\t\t<div class=\"d-flex justify-content-center flex-column\">\n\t\t\t<a\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\thref=\"https://github.com/sponsors/andig\"\n\t\t\t\tclass=\"btn btn-outline-primary mb-2\"\n\t\t\t>\n\t\t\t\t<fa-icon :icon=\"['far', 'heart']\" class=\"icon me-1\"></fa-icon>\n\t\t\t\t{{ $t(\"footer.sponsor.becomeSponsor\") }}\n\t\t\t</a>\n\t\t\t<div class=\"small text-muted text-center\">\n\t\t\t\t{{ $t(\"footer.sponsor.confettiPromise\") }}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport confetti from \"canvas-confetti\";\n\nexport default {\n\tname: \"Sponsor\",\n\tprops: {\n\t\tsponsor: String,\n\t},\n\tmethods: {\n\t\tsurprise: function () {\n\t\t\tconst $el = this.$refs.confetti;\n\t\t\tconst angle = 45 + Math.random() * 90;\n\t\t\tconst drift = 0;\n\n\t\t\tconst { top, height, left, width } = $el.getBoundingClientRect();\n\t\t\tconst x = (left + width / 2) / window.innerWidth;\n\t\t\tconst y = (top + height / 2) / window.innerHeight;\n\t\t\tconst origin = { x, y };\n\n\t\t\tconfetti({\n\t\t\t\torigin,\n\t\t\t\tangle,\n\t\t\t\tparticleCount: 75 + Math.random() * 50,\n\t\t\t\tspread: 50 + Math.random() * 50,\n\t\t\t\tdrift,\n\t\t\t\tscalar: 1.3,\n\t\t\t\tzIndex: 1056, // Bootstrap Modal is 1055\n\t\t\t\tcolors: [\n\t\t\t\t\t\"#0d6efd\",\n\t\t\t\t\t\"#0fdd42\",\n\t\t\t\t\t\"#408458\",\n\t\t\t\t\t\"#4923BA\",\n\t\t\t\t\t\"#5BC8EC\",\n\t\t\t\t\t\"#C54482\",\n\t\t\t\t\t\"#CC444A\",\n\t\t\t\t\t\"#EE8437\",\n\t\t\t\t\t\"#F7C144\",\n\t\t\t\t\t\"#FFFD54\",\n\t\t\t\t],\n\t\t\t});\n\t\t},\n\t},\n};\n</script>\n\n<style scoped>\n.confetti-button {\n\t/* prevent double-tap zoom */\n\ttouch-action: none;\n\tuser-select: none;\n}\n</style>\n","<template>\n\t<div>\n\t\t<button\n\t\t\tclass=\"btn btn-link pe-0 text-decoration-none text-white text-nowrap d-flex\"\n\t\t\tdata-bs-toggle=\"modal\"\n\t\t\tdata-bs-target=\"#savingsModal\"\n\t\t>\n\t\t\t<span class=\"d-inline d-sm-none\">{{\n\t\t\t\t$t(\"footer.savings.footerShort\", { percent })\n\t\t\t}}</span\n\t\t\t><span class=\"d-none d-sm-inline\">{{\n\t\t\t\t$t(\"footer.savings.footerLong\", { percent })\n\t\t\t}}</span>\n\t\t\t<shopicon-regular-sun class=\"ms-2 text-evcc\"></shopicon-regular-sun>\n\t\t</button>\n\t\t<div\n\t\t\tid=\"savingsModal\"\n\t\t\tref=\"modal\"\n\t\t\tclass=\"modal fade text-dark\"\n\t\t\tdata-bs-backdrop=\"false\"\n\t\t\ttabindex=\"-1\"\n\t\t\trole=\"dialog\"\n\t\t\taria-hidden=\"true\"\n\t\t>\n\t\t\t<div class=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\" role=\"document\">\n\t\t\t\t<div class=\"modal-content\">\n\t\t\t\t\t<div class=\"modal-header\">\n\t\t\t\t\t\t<h5 class=\"modal-title\">\n\t\t\t\t\t\t\t<span class=\"d-block d-sm-none\">\n\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\t$t(\"footer.savings.modalTitleShort\", {\n\t\t\t\t\t\t\t\t\t\tpercent,\n\t\t\t\t\t\t\t\t\t\ttotal: fmtKw(totalCharged * 1000, true, false),\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\"d-none d-sm-block\">\n\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\t$t(\"footer.savings.modalTitleLong\", {\n\t\t\t\t\t\t\t\t\t\tpercent,\n\t\t\t\t\t\t\t\t\t\ttotal: fmtKw(totalCharged * 1000, true, false),\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclass=\"btn-close\"\n\t\t\t\t\t\t\tdata-bs-dismiss=\"modal\"\n\t\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\t></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"modal-body py-4\">\n\t\t\t\t\t\t<div class=\"chart-container mb-3\">\n\t\t\t\t\t\t\t<div class=\"chart-legend d-flex flex-wrap justify-content-between mb-1\">\n\t\t\t\t\t\t\t\t<div class=\"text-nowrap\">\n\t\t\t\t\t\t\t\t\t<shopicon-regular-sun\n\t\t\t\t\t\t\t\t\t\tclass=\"text-evcc align-bottom d-inline-block\"\n\t\t\t\t\t\t\t\t\t></shopicon-regular-sun>\n\t\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\t\t$t(\"footer.savings.modalChartSelf\", {\n\t\t\t\t\t\t\t\t\t\t\tself: fmtKw(selfConsumptionCharged * 1000, true, false),\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"text-nowrap\">\n\t\t\t\t\t\t\t\t\t<fa-icon icon=\"square\" class=\"text-grid\"></fa-icon>\n\t\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\t\t$t(\"footer.savings.modalChartGrid\", {\n\t\t\t\t\t\t\t\t\t\t\tgrid: fmtKw(gridCharged * 1000, true, false),\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"chart d-flex justify-content-stretch mb-1 rounded overflow-hidden\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tv-if=\"totalCharged > 0\"\n\t\t\t\t\t\t\t\t\tclass=\"chart-item chart-item--self d-flex justify-content-center text-white flex-shrink-1\"\n\t\t\t\t\t\t\t\t\t:style=\"{ width: `${percent}%` }\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span class=\"text-truncate\"> {{ percent }}% </span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tv-if=\"totalCharged > 0\"\n\t\t\t\t\t\t\t\t\tclass=\"chart-item chart-item--grid d-flex justify-content-center text-white flex-shrink-1\"\n\t\t\t\t\t\t\t\t\t:style=\"{ width: `${100 - percent}%` }\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span class=\"text-truncate\"> {{ 100 - percent }}% </span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tv-if=\"totalCharged === 0\"\n\t\t\t\t\t\t\t\t\tclass=\"chart-item chart-item--no-data d-flex justify-content-center text-white w-100\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>{{ $t(\"footer.savings.modalNoData\") }}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p class=\"mb-3\">\n\t\t\t\t\t\t\t{{ $t(\"footer.savings.modalSavingsPrice\") }}:\n\t\t\t\t\t\t\t<strong>{{ fmtPricePerKWh(effectivePrice, currency) }}</strong>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t{{ $t(\"footer.savings.modalSavingsTotal\") }}:\n\t\t\t\t\t\t\t<strong>{{ fmtMoney(amount, currency) }}</strong>\n\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t<p class=\"small text-muted mb-3\">\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref=\"https://docs.evcc.io/docs/guides/setup/#ersparnisberechnung\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\tclass=\"text-muted\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ $t(\"footer.savings.modalExplaination\") }}</a\n\t\t\t\t\t\t\t>:\n\t\t\t\t\t\t\t<span class=\"text-nowrap\">\n\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\t$t(\"footer.savings.modalExplainationGrid\", {\n\t\t\t\t\t\t\t\t\t\tgridPrice: fmtPricePerKWh(gridPrice, currency),\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}}</span\n\t\t\t\t\t\t\t>,\n\t\t\t\t\t\t\t<span class=\"text-nowrap\">\n\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\t$t(\"footer.savings.modalExplainationFeedIn\", {\n\t\t\t\t\t\t\t\t\t\tfeedInPrice: fmtPricePerKWh(feedInPrice, currency),\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t$t(\"footer.savings.modalServerStart\", {\n\t\t\t\t\t\t\t\t\tsince: fmtTimeAgo(secondsSinceStart()),\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t<hr class=\"mb-4\" />\n\n\t\t\t\t\t\t<Sponsor :sponsor=\"sponsor\" class=\"mb-4\" />\n\n\t\t\t\t\t\t<p class=\"small text-muted mb-0\">\n\t\t\t\t\t\t\t<strong class=\"text-primary\">\n\t\t\t\t\t\t\t\t<fa-icon icon=\"flask\"></fa-icon>\n\t\t\t\t\t\t\t\t{{ $t(\"footer.savings.experimentalLabel\") }}:\n\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t{{ $t(\"footer.savings.experimentalText\") }}\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref=\"https://github.com/evcc-io/evcc/discussions/2104\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t>GitHub Discussions</a\n\t\t\t\t\t\t\t>.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport formatter from \"../mixins/formatter\";\nimport Sponsor from \"./Sponsor.vue\";\nimport \"@h2d2/shopicons/es/regular/sun\";\n\nexport default {\n\tname: \"Savings\",\n\tcomponents: { Sponsor },\n\tmixins: [formatter],\n\tprops: {\n\t\tselfConsumptionPercent: Number,\n\t\tsince: { type: Number, default: 0 },\n\t\tsponsor: String,\n\t\tamount: { type: Number, default: 0 },\n\t\teffectivePrice: { type: Number, default: 0 },\n\t\ttotalCharged: { type: Number, default: 0 },\n\t\tgridCharged: { type: Number, default: 0 },\n\t\tselfConsumptionCharged: { type: Number, default: 0 },\n\t\tgridPrice: { type: Number },\n\t\tfeedInPrice: { type: Number },\n\t\tcurrency: String,\n\t},\n\tcomputed: {\n\t\tpercent() {\n\t\t\treturn Math.round(this.selfConsumptionPercent) || 0;\n\t\t},\n\t},\n\tmethods: {\n\t\tsecondsSinceStart() {\n\t\t\treturn this.since * 1000 - Date.now();\n\t\t},\n\t},\n};\n</script>\n<style scoped>\n/* make modal a bottom drawer on small screens */\n@media (max-width: 575px) {\n\t.modal-dialog.modal-dialog-centered {\n\t\talign-items: flex-end;\n\t\tmargin-bottom: 0;\n\t}\n\t.modal.fade .modal-dialog {\n\t\ttransition: transform 0.4s ease;\n\t\ttransform: translate(0, 150px);\n\t}\n\t.modal.show .modal-dialog {\n\t\ttransform: none;\n\t}\n\t.modal-dialog-scrollable {\n\t\theight: calc(100% - 0.5rem);\n\t}\n\t.modal-content {\n\t\tborder-radius: 1rem 1rem 0 0;\n\t}\n}\n\n.chart {\n\theight: 1.6rem;\n}\n\n.chart-item--self {\n\tbackground-color: var(--evcc-self);\n}\n.chart-item--grid {\n\tbackground-color: var(--evcc-grid);\n}\n.chart-item--no-data {\n\tbackground-color: var(--bs-gray);\n}\n\n.chart-item {\n\ttransition-property: width;\n\ttransition-duration: 500ms;\n\ttransition-timing-function: linear;\n}\n</style>\n","<template>\n\t<footer class=\"footer\">\n\t\t<div class=\"container py-3\">\n\t\t\t<div class=\"d-flex justify-content-between\">\n\t\t\t\t<Version v-bind=\"version\" />\n\t\t\t\t<!-- Please don't mess with the sponsor status. You risk loosing your mojo. -->\n\t\t\t\t<Savings v-bind=\"savings\" :sponsor=\"sponsor\" />\n\t\t\t</div>\n\t\t</div>\n\t</footer>\n</template>\n\n<script>\nimport Version from \"./Version.vue\";\nimport Savings from \"./Savings.vue\";\n\nexport default {\n\tname: \"Footer\",\n\tcomponents: { Version, Savings },\n\tprops: {\n\t\tversion: Object,\n\t\tsponsor: String,\n\t\tsavings: Object,\n\t},\n};\n</script>\n\n<style scoped>\n.footer {\n\tcolor: var(--bs-white);\n}\n</style>\n","<template>\n\t<div class=\"d-flex flex-column top-area\">\n\t\t<div class=\"container\">\n\t\t\t<div class=\"d-flex justify-content-between align-items-center\">\n\t\t\t\t<h2 class=\"d-block my-4\">\n\t\t\t\t\t{{ siteTitle || \"evcc\" }}\n\t\t\t\t</h2>\n\t\t\t\t<div class=\"py-1\">\n\t\t\t\t\t<!--<Notifications :notifications=\"notifications\" class=\"me-2\" />-->\n\t\t\t\t\t<TopNavigation />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Energyflow v-bind=\"energyflow\" @toggle-details=\"toggleDetails\" />\n\t\t</div>\n\t\t<div\n\t\t\tclass=\"d-flex flex-column content-area\"\n\t\t\t:style=\"{\n\t\t\t\ttransform: `translateY(${detailsVisible ? detailsHeight : 10}px)`,\n\t\t\t\t'padding-bottom': `${detailsVisible ? detailsHeight : 10}px`,\n\t\t\t}\"\n\t\t>\n\t\t\t<div class=\"toggle-handle py-3 d-flex justify-content-center\" @click=\"toggleDetails\">\n\t\t\t\t<shopicon-regular-arrowup\n\t\t\t\t\tclass=\"toggle-icon\"\n\t\t\t\t\t:class=\"`toggle-icon--${detailsVisible ? 'down' : 'up'}`\"\n\t\t\t\t></shopicon-regular-arrowup>\n\t\t\t</div>\n\t\t\t<div class=\"container\">\n\t\t\t\t<h2 class=\"mb-3 mb-sm-4\">Ladepunkte</h2>\n\t\t\t</div>\n\t\t\t<Loadpoints :loadpoints=\"loadpoints\" />\n\t\t\t<div class=\"container\">\n\t\t\t\t<h2 class=\"mt-5 mb-3 mb-sm-4\">Parkplatz</h2>\n\t\t\t</div>\n\t\t\t<Footer v-bind=\"footer\"></Footer>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport \"@h2d2/shopicons/es/regular/arrowup\";\nimport TopNavigation from \"./TopNavigation.vue\";\nimport Energyflow from \"./Energyflow/Energyflow.vue\";\nimport Loadpoints from \"./Loadpoints.vue\";\nimport Footer from \"./Footer.vue\";\nimport formatter from \"../mixins/formatter\";\nimport collector from \"../mixins/collector\";\n\nexport default {\n\tname: \"Site\",\n\tcomponents: { Loadpoints, Energyflow, Footer, TopNavigation },\n\tmixins: [formatter, collector],\n\tprops: {\n\t\tloadpoints: Array,\n\n\t\t// details\n\t\tgridConfigured: Boolean,\n\t\tgridPower: Number,\n\t\thomePower: Number,\n\t\tpvConfigured: Boolean,\n\t\tpvPower: Number,\n\t\tbatteryConfigured: Boolean,\n\t\tbatteryPower: Number,\n\t\tbatterySoC: Number,\n\t\tgridCurrents: Array,\n\t\tprioritySoC: Number,\n\t\tsiteTitle: String,\n\n\t\t// footer\n\t\tcurrency: String,\n\t\tsavingsAmount: Number,\n\t\tsavingsEffectivePrice: Number,\n\t\tsavingsGridCharged: Number,\n\t\tsavingsSelfConsumptionCharged: Number,\n\t\tsavingsSelfConsumptionPercent: Number,\n\t\tsavingsSince: Number,\n\t\tsavingsTotalCharged: Number,\n\t\ttariffFeedIn: Number,\n\t\ttariffGrid: Number,\n\t},\n\tdata: function () {\n\t\treturn {\n\t\t\tdetailsVisible: false,\n\t\t\tdetailsHeight: 0,\n\t\t};\n\t},\n\tcomputed: {\n\t\tenergyflow: function () {\n\t\t\treturn this.collectProps(Energyflow);\n\t\t},\n\t\tactiveLoadpointsCount: function () {\n\t\t\treturn this.loadpoints.filter((lp) => lp.chargePower > 0).length;\n\t\t},\n\t\tloadpointsPower: function () {\n\t\t\treturn this.loadpoints.reduce((sum, lp) => {\n\t\t\t\tsum += lp.chargePower || 0;\n\t\t\t\treturn sum;\n\t\t\t}, 0);\n\t\t},\n\t\tfooter: function () {\n\t\t\treturn {\n\t\t\t\tversion: {\n\t\t\t\t\tinstalled: window.evcc.version,\n\t\t\t\t\tavailable: this.availableVersion,\n\t\t\t\t\treleaseNotes: this.releaseNotes,\n\t\t\t\t\thasUpdater: this.hasUpdater,\n\t\t\t\t\tuploadMessage: this.uploadMessage,\n\t\t\t\t\tuploadProgress: this.uploadProgress,\n\t\t\t\t},\n\t\t\t\tsponsor: this.sponsor,\n\t\t\t\tsavings: {\n\t\t\t\t\tsince: this.savingsSince,\n\t\t\t\t\ttotalCharged: this.savingsTotalCharged,\n\t\t\t\t\tgridCharged: this.savingsGridCharged,\n\t\t\t\t\tselfConsumptionCharged: this.savingsSelfConsumptionCharged,\n\t\t\t\t\tamount: this.savingsAmount,\n\t\t\t\t\teffectivePrice: this.savingsEffectivePrice,\n\t\t\t\t\tselfConsumptionPercent: this.savingsSelfConsumptionPercent,\n\t\t\t\t\tgridPrice: this.tariffGrid,\n\t\t\t\t\tfeedInPrice: this.tariffFeedIn,\n\t\t\t\t\tcurrency: this.currency,\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.updateDetailHeight();\n\t\twindow.addEventListener(\"resize\", this.updateDetailHeight);\n\t},\n\tunmounted() {\n\t\twindow.removeEventListener(\"resize\", this.updateDetailHeight);\n\t},\n\tmethods: {\n\t\tupdateDetailHeight: function () {\n\t\t\tthis.detailsHeight = this.$el.querySelector(\"[data-collapsible-details]\").offsetHeight;\n\t\t},\n\t\ttoggleDetails() {\n\t\t\tthis.updateDetailHeight();\n\t\t\tthis.detailsVisible = !this.detailsVisible;\n\t\t},\n\t},\n};\n</script>\n<style scoped>\n.top-area {\n\tbackground: var(--bs-white);\n}\n.content-area {\n\tbackground-color: var(--bs-gray-dark);\n\tborder-radius: 20px 20px 0 0;\n\tcolor: var(--bs-white);\n\ttransform: translateY(0);\n\ttransition-property: transform;\n\ttransition-duration: 0.5s;\n\ttransition-timing-function: cubic-bezier(0.5, 0.5, 0.5, 1.15);\n}\n.toggle-handle {\n\tcursor: pointer;\n\tcolor: var(--bs-gray-medium);\n}\n.toggle-icon {\n\ttransition: transform 0.3s linear;\n}\n.toggle-icon--up {\n\ttransform: scaleY(-1);\n}\n.toggle-icon--down {\n\ttransform: scaleY(1);\n}\n</style>\n","<template>\n\t<div>\n\t\t<Site v-if=\"configured\" v-bind=\"state\"></Site>\n\t\t<div v-else class=\"container\">\n\t\t\t<div class=\"row py-5\">\n\t\t\t\t<div class=\"col12\">\n\t\t\t\t\t<p class=\"h1 pt-5 pb-2 border-bottom\">Willkommen bei evcc</p>\n\t\t\t\t\t<p class=\"lead pt-2\">\n\t\t\t\t\t\t<b>evcc</b> ist dient zur flexiblen Ladesteuerung von Elektrofahrzeugen.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"pt-2\">\n\t\t\t\t\t\tEs sieht aus, als wäre Dein <b>evcc</b> noch nicht konfiguriert. Um\n\t\t\t\t\t\t<b>evcc</b> zu konfigurieren sind die folgenden Schritte notwendig:\n\t\t\t\t\t</p>\n\t\t\t\t\t<ol class=\"pt-2\">\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\tErzeugen einer Konfigurationsdatei mit Namen\n\t\t\t\t\t\t\t<code>evcc.yaml</code>. Die Standardkonfiguration\n\t\t\t\t\t\t\t<code>evcc.dist.yaml</code> kann dafür als Vorlage dienen (<a\n\t\t\t\t\t\t\t\thref=\"https://github.com/evcc-io/evcc/blob/master/evcc.dist.yaml\"\n\t\t\t\t\t\t\t\t>Download</a\n\t\t\t\t\t\t\t>).\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>Konfiguration der Wallbox als <code>chargers</code>.</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\tKonfiguration des EVU Zählers und evtl. weiterer Zähler unter\n\t\t\t\t\t\t\t<code>meters</code>.\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\tKonfiguration des Netzanschlusses unter\n\t\t\t\t\t\t\t<code>site</code>. In einer Site wird der Netzanschluss mit dem\n\t\t\t\t\t\t\tkonfigurierten EVU Zähler (<code>meter</code>) verbunden.\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\tKonfiguration eines Ladepunktes unter\n\t\t\t\t\t\t\t<code>loadpoints</code>. In einem Ladepunkt wird die konfigurierte\n\t\t\t\t\t\t\tWallbox (<code>charger</code>) mit dem Ladepunkt verbunden.\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\tStart von <b>evcc</b> mit der neu erstellten Konfiguration:\n\t\t\t\t\t\t\t<code>evcc -c evcc.yaml</code>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ol>\n\t\t\t\t\t<p>Minimale Beispielkonfiguration für <b>evcc</b>:</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<code>\n\t\t\t\t\t\t\t<pre class=\"mx-3\">\n                uri: localhost:7070 # Adresse für UI\n                interval: 10s # Regelintervall\n                meters:\n                - name: evu-zähler\n                type: ... # Detailkonfiguration des EVU Zählers\n                - name: ladezähler\n                type: ... # Detailkonfiguration des Ladezählers (optional)\n                chargers:\n                - name: wallbox\n                type: ... # Detailkonfiguration der Wallbox\n                site:\n                  title: Home\n                  meters:\n                  grid: evu-zähler # EVU Zähler\n                loadpoints:\n                - title: Ladepunkt # ui display name\n                  charger: wallbox # charger\n                  meters:\n                    charge: ladezähler # Ladezählers (optional)\n              </pre\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</code>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tViel Spass mit <b>evcc</b>! Bei Problemen kannst Du uns auf\n\t\t\t\t\t\t<a href=\"https://github.com/evcc-io/evcc/issues\">GitHub</a>\n\t\t\t\t\t\terreichen.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Site from \"../components/Site.vue\";\nimport store from \"../store\";\n\nexport default {\n\tname: \"Main\",\n\tcomponents: { Site },\n\tdata: function () {\n\t\treturn store;\n\t},\n\tcomputed: {\n\t\tconfigured: function () {\n\t\t\tconst val = window.evcc.configured;\n\t\t\t// for development purposes\n\t\t\tif (val == window.evcc.configured) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (!isNaN(parseInt(val)) && parseInt(val) > 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t},\n};\n</script>\n","<template>\n\t<div class=\"container\">\n\t\t<!-- <h1 class=\"display-4 pt-3 mx-auto text-center\">Konfiguration</h1>\n\t\t<p class=\"lead mx-auto text-center\">Details der Fahrzeug-, Wallbox- und Zählerkonfiguration.</p> -->\n\n\t\t<div class=\"row mt-4 border-bottom\">\n\t\t\t<div class=\"col-12\">\n\t\t\t\t<p class=\"h1\">{{ title || \"Home\" }}</p>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"row h5\">\n\t\t\t<div class=\"col-md-4\"></div>\n\t\t\t<div class=\"col-6 col-md-2 py-3\">\n\t\t\t\tNetzzähler:\n\t\t\t\t<span v-if=\"gridConfigured\" class=\"text-primary\">✓</span>\n\t\t\t\t<span v-else class=\"text-primary\">&mdash;</span>\n\t\t\t</div>\n\t\t\t<div class=\"col-6 col-md-2 py-3\">\n\t\t\t\tPV Zähler:\n\t\t\t\t<span v-if=\"pvConfigured\" class=\"text-primary\">✓</span>\n\t\t\t\t<span v-else class=\"text-primary\">&mdash;</span>\n\t\t\t</div>\n\t\t\t<div class=\"col-6 col-md-2 py-3\">\n\t\t\t\tBatteriezähler:\n\t\t\t\t<span v-if=\"batteryConfigured\" class=\"text-primary\">✓</span>\n\t\t\t\t<span v-else class=\"text-primary\">&mdash;</span>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div\n\t\t\tv-for=\"(loadpoint, id) in loadpoints\"\n\t\t\t:id=\"'loadpoint-' + id\"\n\t\t\t:key=\"id\"\n\t\t\t:loadpoint=\"loadpoint\"\n\t\t>\n\t\t\t<div class=\"row mt-4 border-bottom\">\n\t\t\t\t<div class=\"col-12\">\n\t\t\t\t\t<p class=\"h1\">{{ loadpoint.title || \"Ladepunkt\" }}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"row h5\">\n\t\t\t\t<div class=\"col-md-4\"></div>\n\t\t\t\t<div class=\"col-6 col-md-2 py-3\">\n\t\t\t\t\tLadezähler:\n\t\t\t\t\t<span v-if=\"loadpoint.chargeConfigured\" class=\"text-primary\">✓</span>\n\t\t\t\t\t<span v-else class=\"text-primary\">&mdash;</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-6 col-md-2 py-3\">\n\t\t\t\t\tPhasen:\n\t\t\t\t\t<span class=\"text-primary\">{{ loadpoint.phases }}p</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-6 col-md-2 py-3\">\n\t\t\t\t\tMin. Strom:\n\t\t\t\t\t<span class=\"text-primary\">{{ loadpoint.minCurrent }}A</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-6 col-md-2 py-3\">\n\t\t\t\t\tMax. Strom:\n\t\t\t\t\t<span class=\"text-primary\">{{ loadpoint.maxCurrent }}A</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"row h5\">\n\t\t\t\t<div class=\"col-md-4\"></div>\n\t\t\t\t<div class=\"col-md-8 h2\">\n\t\t\t\t\t<div class=\"row py-3 h2 border-bottom\">\n\t\t\t\t\t\t<div class=\"col-12\">Fahrzeug</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row h5\">\n\t\t\t\t\t\t<div class=\"col-6 py-3\">\n\t\t\t\t\t\t\tModell:\n\t\t\t\t\t\t\t<span class=\"text-primary\">{{ loadpoint.vehicleTitle || \"—\" }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-6 py-3\">\n\t\t\t\t\t\t\tKapazität:\n\t\t\t\t\t\t\t<span class=\"text-primary\">{{ loadpoint.vehicleCapacity }}kWh</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"Config\",\n\tdata: function () {\n\t\treturn this.$root.$data.store.state; // global state\n\t},\n};\n</script>\n","import { createRouter, createWebHistory } from \"vue-router\";\n\nimport Main from \"./views/Main.vue\";\nimport Config from \"./views/Config.vue\";\n\nconst routes = [\n  { path: \"/\", component: Main },\n  { path: \"/config\", component: Config },\n];\n\nexport default createRouter({\n  history: createWebHistory(),\n  routes,\n  linkExactActiveClass: \"active\", // Bootstrap <nav>\n});\n","export default {\n  header: { docs: \"Dokumentation\", blog: \"Blog\", github: \"GitHub\", about: \"Über evcc\" },\n  footer: {\n    version: {\n      versionShort: \"evcc v{installed}\",\n      versionLong: \"evcc {installed}\",\n      availableShort: \"Update\",\n      availableLong: \"Update verfügbar\",\n      modalTitle: \"Update verfügbar\",\n      modalUpdateStarted: \"Nach der Aktualisierung wird evcc neu gestartet.\",\n      modalInstalledVersion: \"Aktuell installierte Version\",\n      modalNoReleaseNotes:\n        \"Keine Releasenotes verfügbar. Mehr Informationen zur neuen Version findest du hier:\",\n      modalCancel: \"Abbrechen\",\n      modalUpdate: \"Aktualisieren\",\n      modalUpdateNow: \"Jetzt aktualisieren\",\n      modalDownload: \"Download\",\n      modalUpdateStatusStart: \"Aktualisierung gestartet: \",\n      modalUpdateStatusFailed: \"Aktualisierung nicht möglich: \",\n    },\n    savings: {\n      footerShort: \"{percent}% Sonne\",\n      footerLong: \"{percent}% Sonnenenergie\",\n      modalTitleShort: \"{total} kWh geladen · {percent}% Sonne\",\n      modalTitleLong: \"{total} kWh geladen · {percent}% Sonnenenergie\",\n      modalChartGrid: \"Netz {grid} kWh\",\n      modalChartSelf: \"Sonne {self} kWh\",\n      modalSavingsPrice: \"Effektiver Energiepreis\",\n      modalSavingsTotal: \"Ersparnis gegenüber Netzbezug\",\n      modalExplaination: \"Berechnung\",\n      modalExplainationGrid: \"Netz {gridPrice}\",\n      modalExplainationFeedIn: \"Einspeisung {feedInPrice}\",\n      modalServerStart: \"Seit Serverstart {since}.\",\n      modalNoData: \"noch nicht geladen\",\n      experimentalLabel: \"experimentell\",\n      experimentalText: \"Unplausible Werte? Fragen zur Ansicht? Meld dich gerne in den\",\n    },\n    sponsor: {\n      thanks: \"Danke für deine Unterstützung, {sponsor}! Das hilft uns bei der Weiterentwicklung.\",\n      confetti: \"Lust auf etwas Sponsor-Konfetti?\",\n      supportUs:\n        \"Wir möchten effizientes Zuhause-Laden zum Standard für möglichst viele Menschen machen. Helfe uns indem du die Weiterentwicklung und Pflege des Projekts unterstützt.\",\n      sticker: \"...oder evcc Sticker?\",\n      confettiPromise: \"Es gibt auch Sticker und digitales Konfetti ;)\",\n      becomeSponsor: \"Werde jetzt GitHub Sponsor\",\n    },\n  },\n  notifications: {\n    modalTitle: \"Meldungen\",\n    dismissAll: \"Meldungen entfernen\",\n  },\n\n  main: {\n    energyflow: {\n      noEnergy: \"Kein Energiefluss\",\n      homePower: \"Verbrauch\",\n      pvProduction: \"Erzeugung\",\n      loadpoints: \"Ladepunkt | Ladepunkt | {count} Ladepunkte\",\n      battery: \"Batterie\",\n      batteryCharge: \"Batterie laden\",\n      batteryDischarge: \"Batterie entladen\",\n      gridImport: \"Netzbezug\",\n      selfConsumption: \"Eigenverbrauch\",\n      pvExport: \"Einspeisung\",\n    },\n    mode: {\n      offShort: \"Aus\",\n      offLong: \"Aus\",\n      nowShort: \"Sofort\",\n      nowLong: \"Sofort\",\n      minpvShort: \"Min\",\n      minpvLong: \"Min + PV\",\n      pvShort: \"PV\",\n      pvLong: \"Nur PV\",\n    },\n    loadpoint: {\n      fallbackName: \"Ladepunkt\",\n      remoteDisabledSoft: \"{source}: Adaptives PV-Laden deaktiviert\",\n      remoteDisabledHard: \"{source}: Deaktiviert\",\n      power: \"Leistung\",\n      charged: \"Geladen\",\n      duration: \"Dauer\",\n      remaining: \"Restzeit\",\n    },\n    vehicle: {\n      fallbackName: \"Fahrzeug\",\n      vehicleSoC: \"Ladestand\",\n      targetSoC: \"Ladeziel\",\n    },\n    vehicleSoC: {\n      disconnected: \"getrennt\",\n      charging: \"lädt\",\n      ready: \"bereit\",\n      connected: \"verbunden\",\n    },\n    vehicleStatus: {\n      minCharge: \"Mindestladung bis {soc}%.\",\n      waitForVehicle: \"Ladebereit. Warte auf Fahrzeug.\",\n      charging: \"Ladevorgang aktiv.\",\n      targetChargePlanned: \"Zielladen geplant. Ladung startet bald.\",\n      targetChargeWaitForVehicle: \"Zielladen bereit. Warte auf Fahrzeug.\",\n      targetChargeActive: \"Zielladen aktiv.\",\n      connected: \"Verbunden.\",\n      pvDisable: \"Zu wenig Überschuss. Pausiere in {remaining}.\",\n      pvEnable: \"Überschuss verfügbar. Starte in {remaining}.\",\n      scale1p: \"Reduziere auf einphasig in {remaining}.\",\n      scale3p: \"Erhöhe auf dreiphasig in {remaining}.\",\n      unknown: \"\",\n    },\n    targetCharge: {\n      title: \"Zielzeit\",\n      inactiveLabel: \"Zielzeit\",\n      activeLabel: \"bis {time} Uhr\",\n      modalTitle: \"Zielzeit festlegen\",\n      description: \"Wann soll das Fahrzeug auf <strong>{targetSoC}%</strong> geladen sein?\",\n      today: \"heute\",\n      tomorrow: \"morgen\",\n      targetIsInThePast: \"Zeitpunkt liegt in der Vergangenheit.\",\n      remove: \"Keine Zielzeit\",\n      activate: \"Zielzeit aktivieren\",\n      experimentalLabel: \"experimentell\",\n      experimentalText: `\n        Diese Funktion ist in einem frühen Stadium. Der Algorithmus ist noch\n        nicht perfekt. Die Zielzeit wird aktuell nicht persistiert - das\n        heißt sie geht beim Neustart verloren. Verlasse dich also noch nicht\n        zu sehr auf diese Funktion. Wir freuen uns aber über deine\n        Erfahrungen und Verbessungsvorschläge in den\n      `,\n    },\n  },\n};\n","export default {\n  header: { docs: \"Documentation\", blog: \"Blog\", github: \"GitHub\", about: \"About evcc\" },\n  footer: {\n    version: {\n      versionShort: \"v{installed}\",\n      versionLong: \"Version {installed}\",\n      availableShort: \"update\",\n      availableLong: \"update available\",\n      modalTitle: \"Update available\",\n      modalUpdateStarted: \"Evcc will restart after the update..\",\n      modalInstalledVersion: \"Currently installed version\",\n      modalNoReleaseNotes:\n        \"No release notes available. More information about the new version can be found here:\",\n      modalCancel: \"Cancel\",\n      modalUpdate: \"Update\",\n      modalUpdateNow: \"Update now\",\n      modalDownload: \"Download\",\n      modalUpdateStatusStart: \"Update started: \",\n      modalUpdateStatusFailed: \"Update failed: \",\n    },\n    savings: {\n      footerShort: \"{percent}% solar\",\n      footerLong: \"{percent}% solar energy\",\n      modalTitleShort: \"{total} kWh charged · {percent}% solar\",\n      modalTitleLong: \"{total} kWh charged · {percent}% solar energy\",\n      modalChartGrid: \"Grid energy {grid} kWh\",\n      modalChartSelf: \"Solar energy {self} kWh\",\n      modalSavingsPrice: \"Effective energy price\",\n      modalSavingsTotal: \"Savings compared to grid\",\n      modalExplaination: \"Calculation\",\n      modalExplainationGrid: \"grid tariff {gridPrice}\",\n      modalExplainationFeedIn: \"feed-in rate {feedInPrice}\",\n      modalServerStart: \"since server start {since}.\",\n      modalNoData: \"nothing charged yet\",\n      experimentalLabel: \"experimental\",\n      experimentalText: \"Implausible values? Questions about this view? Feel free to join our \",\n    },\n    sponsor: {\n      thanks: \"Thanks for your support, {sponsor}! It helps us with the further development.\",\n      confetti: \"Ready for some sponsor confetti?\",\n      supportUs:\n        \"We want to make efficient home charging the standard for as many people as possible. Help us by supporting the further development and maintenance of the project.\",\n      sticker: \"...or evcc stickers?\",\n      confettiPromise: \"There will be stickers and digital confetti ;)\",\n      becomeSponsor: \"Become a GitHub Sponsor\",\n    },\n  },\n  notifications: {\n    modalTitle: \"Notifications\",\n    dismissAll: \"Dismiss all\",\n  },\n  main: {\n    energyflow: {\n      noEnergy: \"No Energyflow\",\n      homePower: \"Consumption\",\n      loadpoints: \"Loadpoint | Loadpoint | {count} Loadpoints\",\n      pvProduction: \"Production\",\n      battery: \"Battery\",\n      batteryCharge: \"Battery charge\",\n      batteryDischarge: \"Battery discharge\",\n      gridImport: \"Grid import\",\n      selfConsumption: \"Self consumption\",\n      pvExport: \"Grid export\",\n    },\n    mode: {\n      title: \"Mode\",\n      stop: \"Stop\",\n      now: \"Now\",\n      minpvShort: \"Min\",\n      minpvLong: \"Min + PV\",\n      pvShort: \"PV\",\n      pvLong: \"PV only\",\n    },\n    loadpoint: {\n      fallbackName: \"Loadpoint\",\n      remoteDisabledSoft: \"{source}: adaptive PV charging disabled\",\n      remoteDisabledHard: \"{source}: disabled\",\n    },\n    vehicle: {\n      fallbackName: \"Vehicle\",\n    },\n    vehicleSoC: {\n      disconnected: \"disconnected\",\n      charging: \"charging\",\n      ready: \"ready\",\n      connected: \"connected\",\n    },\n    vehicleSubline: {\n      mincharge: \"minimum charging to {soc}%\",\n    },\n    targetCharge: {\n      inactiveLabel: \"Target time\",\n      activeLabel: \"until {time}\",\n      modalTitle: \"Set Target Time\",\n      description: \"When should the vehicle be charged to <strong>{targetSoC}%</strong>?\",\n      today: \"today\",\n      tomorrow: \"tomorrow\",\n      targetIsInThePast: \"The chosen time is in the past.\",\n      remove: \"Remove\",\n      activate: \"Activate\",\n      experimentalLabel: \"experimental\",\n      experimentalText: `\n        This function is at an early stage.\n        The algorithm is not perfect yet.\n        The target time is currently not persisted - this means, it will be lost when your server restarts.\n        So do not rely too much on this function.\n        However, we look forward to your experiences and suggestions for improvement in the\n      `,\n    },\n    loadpointDetails: {\n      power: \"Power\",\n      vehicleRange: \"Range\",\n      charged: \"Charged\",\n      duration: \"Duration\",\n      remaining: \"Remaining\",\n      tooltip: {\n        phases: {\n          scale1p: \"Switching to single-phase in {remaining}.\",\n          scale3p: \"Switching to three-phase in {remaining}.\",\n          charge1p: \"Single-phase charging.\",\n          charge2p: \"Two-phase charging.\",\n          charge3p: \"Three-phase charging.\",\n        },\n        pv: {\n          enable: \"Solar available. Resume charging in {remaining}.\",\n          disable: \"Not enough solar. Pause charging in {remaining}.\",\n        },\n      },\n    },\n  },\n};\n","export default {\n  header: { docs: \"Documentazione\", blog: \"Blog\", github: \"GitHub\" },\n  footer: {\n    version: {\n      version: \"versione\",\n      availableShort: \"aggiornamento\",\n      availableLong: \"aggiornamento disponibile\",\n      modalTitle: \"Aggiornamento disponibile\",\n      modalUpdateStarted: \"Evcc ripartirà dopo l'aggiornamento..\",\n      modalInstalledVersion: \"Versione correntemente installata\",\n      modalNoReleaseNotes:\n        \"Non ci sono note di rilascio disponibili. Altre informazioni circa la nuova versione si trovano qui:\",\n      modalCancel: \"Cancella\",\n      modalUpdate: \"Aggiorna\",\n      modalUpdateNow: \"Aggiorna ora\",\n      modalDownload: \"Download\",\n      modalUpdateStatusStart: \"Aggiornamento iniziato: \",\n      modalUpdateStatusFailed: \"Aggiornamento fallito: \",\n    },\n    sponsor: {\n      sponsoredShort: \"grazie\",\n      sponsoredLong: \"grazie {sponsor}\",\n      supportProjectShort: \"supporto\",\n      supportProjectLong: \"supporta questo progetto\",\n    },\n  },\n  notifications: {\n    modalTitle: \"Notifiche\",\n    dismissAll: \"Rimuovi tutte\",\n  },\n  main: {\n    energyflow: {\n      noEnergy: \"No Energyflow\",\n      homePower: \"Consumption\",\n      pvProduction: \"Produzione\",\n      battery: \"Batteria\",\n      batteryCharge: \"Battery charge\",\n      batteryDischarge: \"Battery discharge\",\n      gridImport: \"Grid import\",\n      selfConsumption: \"Self consumption\",\n      pvExport: \"Grid export\",\n    },\n    mode: {\n      title: \"Modalità\",\n      stop: \"Stop\",\n      now: \"Ora\",\n      minpvShort: \"Min\",\n      minpvLong: \"Min + FV\",\n      pvShort: \"FV\",\n      pvLong: \"Solo FV\",\n    },\n    loadpoint: {\n      fallbackName: \"Punto di carica\",\n      remoteDisabledSoft: \"{source}: Ricarica FV adattiva disabilitata\",\n      remoteDisabledHard: \"{source}: Disabilitato\",\n    },\n    vehicle: {\n      fallbackName: \"Veicolo\",\n    },\n    vehicleSoC: {\n      disconnected: \"disconesso\",\n      charging: \"carica\",\n      ready: \"pronto\",\n      connected: \"collegato\",\n    },\n    vehicleSubline: {\n      mincharge: \"carica minima fino a {soc}%\",\n    },\n    loadpointDetails: {\n      power: \"Potenza\",\n      vehicleRange: \"Autonomia\",\n      charged: \"Ricaricato\",\n      duration: \"Duarata\",\n      remaining: \"Rimanenti\",\n    },\n  },\n};\n","import Vue from \"vue\";\nimport { createI18n } from \"vue-i18n\";\nimport de from \"./de\";\nimport en from \"./en\";\nimport it from \"./it\";\n\nfunction getBrowserLocale() {\n  const navigatorLocale =\n    navigator.languages !== undefined ? navigator.languages[0] : navigator.language;\n  if (!navigatorLocale) {\n    return undefined;\n  }\n  const trimmedLocale = navigatorLocale.trim().split(/-|_/)[0];\n  console.log(trimmedLocale);\n  return trimmedLocale;\n}\n\nexport default createI18n({\n  locale: getBrowserLocale(),\n  fallbackLocale: \"en\",\n  messages: { de, en, it },\n});\n","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap\";\nimport smoothscroll from \"smoothscroll-polyfill\";\nimport \"../css/app.css\";\nimport { createApp, h } from \"vue\";\nimport VueMeta from \"vue-meta\";\nimport api from \"./api\";\nimport App from \"./views/App.vue\";\nimport router from \"./router\";\nimport i18n from \"./i18n\";\n\nsmoothscroll.polyfill();\n\n//Vue.use(VueMeta);\n\nconst app = createApp({\n  data() {\n    return { notifications: [] };\n  },\n  methods: {\n    raise: function (msg) {\n      console[msg.type](msg);\n      const now = new Date();\n      const latestMsg = this.notifications[0];\n      if (latestMsg && latestMsg.message === msg.message) {\n        latestMsg.count++;\n        latestMsg.time = now;\n      } else {\n        this.notifications = [\n          {\n            ...msg,\n            count: 1,\n            time: now,\n          },\n          ...this.notifications,\n        ];\n      }\n    },\n    clear: function () {\n      this.notifications = [];\n    },\n    error: function (msg) {\n      msg.type = \"error\";\n      this.raise(msg);\n    },\n    warn: function (msg) {\n      msg.type = \"warn\";\n      this.raise(msg);\n    },\n  },\n  render: function () {\n    return h(App, { props: { notifications: this.notifications } });\n  },\n});\n\napp.use(i18n);\napp.use(router);\nwindow.app = app.mount(\"#app\");\n\nwindow.setInterval(function () {\n  api.get(\"health\").catch(function () {\n    window.app.error({ message: \"Server unavailable\" });\n  });\n}, 5000);\n"],"names":["_hoisted_1","_createElementBlock","_openBlock","_createElementVNode","_hoisted_3","_hoisted_13","_hoisted_17","_normalizeClass","_hoisted_22","_createTextVNode","_hoisted_6","_hoisted_7","_hoisted_12","_hoisted_2","_hoisted_5","_hoisted_4","_toDisplayString","_hoisted_11","_hoisted_24","_hoisted_33","_hoisted_25","_hoisted_27","_hoisted_28","_hoisted_30","_createVNode","_normalizeProps","_createBlock"],"mappings":"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"}