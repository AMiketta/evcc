var Xe=Object.defineProperty,et=Object.defineProperties;var tt=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var at=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable;var w=(e,a,t)=>a in e?Xe(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,g=(e,a)=>{for(var t in a||(a={}))at.call(a,t)&&w(e,t,a[t]);if(y)for(var t of y(a))st.call(a,t)&&w(e,t,a[t]);return e},S=(e,a)=>et(e,tt(a));import{a as rt,V as p,l as it,f as nt,b as ot,c as lt,d as ct,e as dt,g as ut,h as pt,i as mt,j as ht,k as vt,m as gt,n as ft,o as _t,p as bt,q as Ct,r as yt,s as wt,t as St,u as xt,v as $t,w as Tt,x as Pt,y as Et,z as Dt,A as Nt,B as kt,C as It,F as Lt,D as At,E as x,G as $,H as f,I as jt,J as Rt}from"./vendor.e59cba19.js";const Bt=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}};Bt();const{protocol:Mt,hostname:Vt,port:T,pathname:Ft}=window.location,m=rt.create({baseURL:Mt+"//"+Vt+(T?":"+T:"")+Ft+"api/",headers:{Accept:"application/json"}});m.interceptors.response.use(e=>e,e=>{const a=e.config.baseURL+e.config.url,t=`${e.message}: API request failed ${a}`;window.app.error({message:t})});function P(e,a,t){const s=a.shift();if(e[s]||p.set(e,s,{}),!a.length){t&&typeof t=="object"&&!Array.isArray(t)?e[s]=g(g({},e[s]),t):e[s]=t;return}P(e[s],a,t)}const _={state:{loadpoints:[]},update:function(e){Object.keys(e).forEach(function(a){typeof window.app[a]=="function"?window.app[a]({message:e[a]}):P(_.state,a.split("."),e[a])})}};var E=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app overflow-hidden"},[t("router-view",{staticClass:"flex-grow-1 d-flex flex-column justify-content-stretch"})],1)},zt=[];E._withStripped=!0;function n(e,a,t,s,r,i,l,h){var o=typeof e=="function"?e.options:e;a&&(o.render=a,o.staticRenderFns=t,o._compiled=!0),s&&(o.functional=!0),i&&(o._scopeId="data-v-"+i);var c;if(l?(c=function(d){d=d||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!d&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(d=__VUE_SSR_CONTEXT__),r&&r.call(this,d),d&&d._registeredComponents&&d._registeredComponents.add(l)},o._ssrRegister=c):r&&(c=h?function(){r.call(this,(o.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(o.functional){o._injectStyles=c;var Qe=o.render;o.render=function(Je,C){return c.call(C),Qe(Je,C)}}else{var b=o.beforeCreate;o.beforeCreate=b?[].concat(b,c):[c]}return{exports:e,options:o}}const Ut={name:"App",props:{notifications:Array},data:function(){return{store:this.$root.$data.store}},computed:{title:function(){return this.store.state.siteTitle}},created:function(){const e=new URLSearchParams(window.location.search);this.compact=e.get("compact"),setTimeout(this.connect,0)},methods:{connect:function(){if(!("WebSocket"in window)){window.app.error({message:"Web sockets not supported. Please upgrade your browser."});return}const a=window.location,s=(a.protocol=="https:"?"wss:":"ws:")+"//"+a.hostname+(a.port?":"+a.port:"")+a.pathname+"ws",r=new WebSocket(s);r.onerror=()=>{r.close()},r.onclose=()=>{window.setTimeout(this.connect,1e3)},r.onmessage=i=>{try{var l=JSON.parse(i.data);_.update(l)}catch(h){window.app.error({message:`Failed to parse web socket data: ${h.message} [${i.data}]`})}}},reload(){window.location.reload()}},metaInfo(){return{title:this.title?`evcc | ${this.title}`:"evcc"}}},D={};var N=n(Ut,E,zt,!1,Ht,"20b759b0",null,null);function Ht(e){for(let a in D)this[a]=D[a]}N.options.__file="js/views/App.vue";var Wt=function(){return N.exports}(),k=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("button",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{type:"button","data-bs-toggle":"dropdown","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"}},[t("shopicon-regular-menu")],1),t("ul",{staticClass:"dropdown-menu dropdown-menu-end"},[t("li",[t("a",{staticClass:"dropdown-item",attrs:{href:"https://docs.evcc.io/blog/",target:"_blank"}},[e._v(" "+e._s(e.$t("header.blog"))+" ")])]),t("li",[t("a",{staticClass:"dropdown-item",attrs:{href:"https://docs.evcc.io/docs/Home/",target:"_blank"}},[e._v(" "+e._s(e.$t("header.docs"))+" ")])]),t("li",[t("a",{staticClass:"dropdown-item",attrs:{href:"https://github.com/evcc-io/evcc",target:"_blank"}},[e._v(" "+e._s(e.$t("header.github"))+" ")])]),t("li",[t("a",{staticClass:"dropdown-item",attrs:{href:"https://evcc.io/",target:"_blank"}},[e._v(" "+e._s(e.$t("header.about"))+" ")])])])])},Kt=[];k._withStripped=!0;const Gt={name:"TopNavigation"},I={};var L=n(Gt,k,Kt,!1,Ot,null,null,null);function Ot(e){for(let a in I)this[a]=I[a]}L.options.__file="js/components/TopNavigation.vue";var Zt=function(){return L.exports}();it.add(nt.faAngleDown,ot.faAngleUp,lt.faBatteryEmpty,ct.faBatteryFull,dt.faBatteryHalf,ut.faBatteryQuarter,pt.faBatteryThreeQuarters,mt.faBox,ht.faCar,vt.faAngleDoubleLeft,gt.faAngleDoubleRight,ft.faClock,_t.faExclamationCircle,bt.faExclamationTriangle,Ct.faGift,yt.faHome,wt.faWrench,St.faHeart,xt.faHeart,$t.faSquare,Tt.faSun,Pt.faSun,Et.faInfoCircle,Dt.faFlask,Nt.faTemperatureHigh,kt.faTemperatureLow,It.faThermometerHalf);p.component("fa-icon",Lt);var u={data:function(){return{fmtLimit:100,fmtDigits:1}},methods:{round:function(e,a){var t=10**a;return(Math.round(e*t)/t).toFixed(a)},fmt:function(e){return e==null?0:(e=Math.abs(e),e>=this.fmtLimit?this.round(e/1e3,this.fmtDigits):this.round(e,0))},fmtKw:function(e,a=!0,t=!0){const s=a?1:0,r=a?e/1e3:e;let i="";return t&&(i=a?" kW":" W"),this.$n(r,{minimumFractionDigits:s,maximumFractionDigits:s})+i},fmtUnit:function(e){return Math.abs(e)>=this.fmtLimit?"k":""},fmtDuration:function(e){if(e<=0||e==null)return"\u2014";var a="0"+e%60,t="0"+Math.floor(e/60)%60,s=""+Math.floor(e/3600);return s.length<2&&(s="0"+s),s+":"+t.substr(-2)+":"+a.substr(-2)},fmtShortDuration:function(e=0,a=!1){if(e<=0)return"\u2014";var t=e%60,s=Math.floor(e/60)%60,r=Math.floor(e/3600),i="";return r>=1?i=r+":"+`${s}`.padStart(2,"0"):s>=1?i=s+":"+`${t}`.padStart(2,"0"):i=`${t}`,a&&(i+=this.fmtShortDurationUnit(e)),i},fmtShortDurationUnit:function(e=0){if(e<=0)return"";var a=Math.floor(e/60)%60,t=Math.floor(e/3600);return t>=1?"h":a>=1?"m":"s"},fmtDayString:function(e){const a=`${e.getFullYear()}`,t=`${e.getMonth()+1}`.padStart(2,"0"),s=`${e.getDate()}`.padStart(2,"0");return`${a}-${t}-${s}`},fmtTimeString:function(e){const a=`${e.getHours()}`.padStart(2,"0"),t=`${e.getMinutes()}`.padStart(2,"0");return`${a}:${t}`},fmtAbsoluteDate:function(e){return new Intl.DateTimeFormat(this.$i18n.locale,{weekday:"short",hour:"numeric",minute:"numeric"}).format(e)},fmtMoney:function(e=0,a="EUR"){return this.$n(e,{style:"currency",currency:a})},fmtPricePerKWh:function(e=0,a="EUR"){let t=a,s=e,r=3;return["EUR","USD"].includes(a)&&(s*=100,t="ct",r=1),`${this.$n(s,{style:"decimal",maximumFractionDigits:r})} ${t}/kWh`},fmtTimeAgo:function(e){const a={day:24*60*60*1e3,hour:60*60*1e3,minute:60*1e3,second:1e3},t=new Intl.RelativeTimeFormat(this.$i18n.locale,{numeric:"auto"});for(var s in a)if(Math.abs(e)>a[s]||s=="second")return t.format(Math.round(e/a[s]),s)}}},A=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("shopicon-regular-"+e.icon,{tag:"component"})},qt=[];A._withStripped=!0;const Yt={name:"BatteryIcon",props:{soc:{type:Number,default:0}},computed:{icon:function(){return this.soc>80?"batteryfull":this.soc>60?"batterythreequarters":this.soc>40?"batteryhalf":this.soc>20?"batteryquarter":"batteryempty"}}},j={};var R=n(Yt,A,qt,!1,Qt,null,null,null);function Qt(e){for(let a in j)this[a]=j[a]}R.options.__file="js/components/Energyflow/BatteryIcon.vue";var B=function(){return R.exports}(),M=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"label-bar",class:{"label-bar--hide-icon":e.hideIcon,"label-bar--hidden":!e.value,"label-bar--top":e.top,"label-bar--bottom":e.bottom,"label-bar--first":e.first,"label-bar--last":e.last}},[t("div",{staticClass:"label-bar-scale"},[t("div",{staticClass:"label-bar-icon"},[e._t("default")],2)])])},Jt=[];M._withStripped=!0;const Xt={name:"LabelBar",props:{value:{type:Number,default:0},hideIcon:{type:Boolean},top:{type:Boolean},bottom:{type:Boolean},first:{type:Boolean},last:{type:Boolean}}},V={};var F=n(Xt,M,Jt,!1,ea,"4b62bda7",null,null);function ea(e){for(let a in V)this[a]=V[a]}F.options.__file="js/components/Energyflow/LabelBar.vue";var ta=function(){return F.exports}(),z=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"visualization",class:{"visualization--ready":e.visualizationReady}},[t("div",{staticClass:"label-scale d-flex"},[t("div",{staticClass:"d-flex justify-content-start flex-grow-1"},[t("LabelBar",e._b({},"LabelBar",e.labelBarProps("top","pvProduction"),!1),[t("shopicon-regular-sun")],1),t("LabelBar",e._b({},"LabelBar",e.labelBarProps("top","batteryDischarge"),!1),[t("BatteryIcon",{attrs:{soc:e.batterySoC}})],1),t("LabelBar",e._b({},"LabelBar",e.labelBarProps("top","gridImport"),!1),[t("shopicon-regular-powersupply")],1)],1),t("div",{staticClass:"label-scale-name"},[e._v("In")])]),t("div",{ref:"site_progress",staticClass:"site-progress"},[t("div",{staticClass:"site-progress-bar self-consumption",style:{width:e.widthTotal(e.selfConsumptionAdjusted)}},[e.powerLabelEnoughSpace(e.selfConsumption)?t("span",{staticClass:"power"},[e._v(" "+e._s(e.kw(e.selfConsumption))+" ")]):e.powerLabelSomeSpace(e.selfConsumption)?t("span",{staticClass:"power"},[e._v(" "+e._s(e.kwNoUnit(e.selfConsumption))+" ")]):e._e()]),t("div",{staticClass:"site-progress-bar grid-import",style:{width:e.widthTotal(e.gridImportAdjusted)}},[e.powerLabelEnoughSpace(e.gridImport)?t("span",{staticClass:"power"},[e._v(" "+e._s(e.kw(e.gridImport))+" ")]):e.powerLabelSomeSpace(e.gridImport)?t("span",{staticClass:"power"},[e._v(" "+e._s(e.kwNoUnit(e.gridImport))+" ")]):e._e()]),t("div",{staticClass:"site-progress-bar pv-export",style:{width:e.widthTotal(e.pvExportAdjusted)}},[e.powerLabelEnoughSpace(e.pvExport)?t("span",{staticClass:"power"},[e._v(" "+e._s(e.kw(e.pvExport))+" ")]):e.powerLabelSomeSpace(e.pvExport)?t("span",{staticClass:"power"},[e._v(" "+e._s(e.kwNoUnit(e.pvExport))+" ")]):e._e()]),e.totalAdjusted<=0?t("div",{staticClass:"site-progress-bar bg-light border no-wrap w-100"},[t("span",[e._v(e._s(e.$t("main.energyflow.noEnergy")))])]):e._e()]),t("div",{staticClass:"label-scale d-flex"},[t("div",{staticClass:"d-flex justify-content-start flex-grow-1"},[t("LabelBar",e._b({},"LabelBar",e.labelBarProps("bottom","homePower"),!1),[t("shopicon-regular-home")],1),t("LabelBar",e._b({},"LabelBar",e.labelBarProps("bottom","loadpoints"),!1),[t("shopicon-regular-car3")],1),t("LabelBar",e._b({},"LabelBar",e.labelBarProps("bottom","batteryCharge"),!1),[t("BatteryIcon",{attrs:{soc:e.batterySoC}})],1),t("LabelBar",e._b({},"LabelBar",e.labelBarProps("bottom","gridExport"),!1),[t("shopicon-regular-powersupply")],1)],1),t("div",{staticClass:"label-scale-name"},[e._v("Out")])])])},aa=[];z._withStripped=!0;const sa={name:"Visualization",components:{BatteryIcon:B,LabelBar:ta},mixins:[u],props:{gridImport:{type:Number,default:0},selfConsumption:{type:Number,default:0},pvExport:{type:Number,default:0},loadpoints:{type:Number,default:0},batteryCharge:{type:Number,default:0},batteryDischarge:{type:Number,default:0},pvProduction:{type:Number,default:0},homePower:{type:Number,default:0},batterySoC:{type:Number,default:0},valuesInKw:{type:Boolean,default:!1}},data:function(){return{width:0,visualizationReady:!1}},computed:{gridExport:function(){return this.applyThreshold(this.pvExport)},totalRaw:function(){return this.gridImport+this.selfConsumption+this.pvExport},gridImportAdjusted:function(){return this.applyThreshold(this.gridImport)},selfConsumptionAdjusted:function(){return this.applyThreshold(this.selfConsumption)},pvExportAdjusted:function(){return this.applyThreshold(this.pvExport)},totalAdjusted:function(){return this.gridImportAdjusted+this.selfConsumptionAdjusted+this.pvExportAdjusted}},watch:{totalAdjusted:function(){!this.visualizationReady&&this.totalAdjusted>0&&setTimeout(()=>{this.visualizationReady=!0},500)}},mounted:function(){this.$nextTick(function(){window.addEventListener("resize",this.updateElementWidth),this.updateElementWidth()})},beforeDestroy(){window.removeEventListener("resize",this.updateElementWidth)},methods:{widthTotal:function(e){return this.totalAdjusted===0?"0%":100/this.totalAdjusted*e+"%"},kw:function(e){return this.fmtKw(e,this.valuesInKw,!0)},kwNoUnit:function(e){return this.fmtKw(e,this.valuesInKw,!1)},powerLabelAvailableSpace(e){if(this.totalAdjusted===0)return 0;const a=100/this.totalAdjusted*e;return this.width/100*a},powerLabelEnoughSpace(e){return this.powerLabelAvailableSpace(e)>60},powerLabelSomeSpace(e){return this.powerLabelAvailableSpace(e)>35},hideLabelIcon(e,a=32){if(this.totalAdjusted===0)return!0;const t=100/this.totalAdjusted*e;return this.width/100*t<a},applyThreshold(e){return 100/this.totalRaw*e<2?0:e},updateElementWidth(){this.width=this.$refs.site_progress.getBoundingClientRect().width},labelBarProps(e,a){const t=this[a],s=40;return{value:t,hideIcon:this.hideLabelIcon(t,s),style:{width:this.widthTotal(t)},[e]:!0}}}},U={};var H=n(sa,z,aa,!1,ra,"0ea42dac",null,null);function ra(e){for(let a in U)this[a]=U[a]}H.options.__file="js/components/Energyflow/Visualization.vue";var ia=function(){return H.exports}(),W=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"d-flex justify-content-between mb-2"},[t("span",{staticClass:"d-flex flex-nowrap"},[e.isSource?e._e():t("shopicon-regular-angledoublerightsmall",{staticClass:"arrow",class:{"arrow--active":e.active}}),e.isBattery?t("BatteryIcon",{attrs:{soc:e.soc}}):t("shopicon-regular-"+e.icon,{tag:"component"}),e.isSource?t("shopicon-regular-angledoublerightsmall",{staticClass:"arrow",class:{"arrow--active":e.active}}):e._e()],1),t("span",{staticClass:"text-nowrap flex-grow-1 ms-3"},[e._v(e._s(e.name))]),t("span",{staticClass:"text-end text-nowrap ps-1 fw-bold"},[e.hasSoC?t("span",[e._v(e._s(e.soc)+"% / ")]):e._e(),e._v(e._s(e.kw(e.power)))])])},na=[];W._withStripped=!0;const oa={name:"EnergyflowEntry",components:{BatteryIcon:B},mixins:[u],props:{name:{type:String},icon:{type:String},power:{type:Number},soc:{type:Number},type:{type:String},valuesInKw:{type:Boolean}},computed:{active:function(){return this.power>10},isSource:function(){return this.type==="source"},isBattery:function(){return this.icon==="battery"},hasSoC:function(){return this.isBattery&&!isNaN(this.soc)}},methods:{kw:function(e){return this.fmtKw(e,this.valuesInKw)}}},K={};var G=n(oa,W,na,!1,la,"37526a38",null,null);function la(e){for(let a in K)this[a]=K[a]}G.options.__file="js/components/Energyflow/EnergyflowEntry.vue";var ca=function(){return G.exports}(),O=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"energyflow"},[t("div",{staticClass:"row"},[t("Visualization",{staticClass:"col-12 mb-3",attrs:{gridImport:e.gridImport,selfConsumption:e.selfConsumption,loadpoints:e.loadpointsPower,pvExport:e.pvExport,batteryCharge:e.batteryCharge,batteryDischarge:e.batteryDischarge,pvProduction:e.pvProduction,homePower:e.homePower,batterySoC:e.batterySoC,valuesInKw:e.valuesInKw}})],1),t("div",{staticClass:"details"},[t("div",{staticClass:"details-inner row",attrs:{"data-collapsible-details":""}},[t("div",{staticClass:"col-12 d-flex justify-content-between pt-2 mb-4"},[t("div",{staticClass:"d-flex flex-nowrap"},[t("span",{staticClass:"color-self me-2"},[t("fa-icon",{attrs:{icon:"square"}})],1),t("span",[e._v(e._s(e.$t("main.energyflow.selfConsumption")))])]),e.gridImport>0?t("div",{staticClass:"d-flex flex-nowrap"},[t("span",[e._v(e._s(e.$t("main.energyflow.gridImport")))]),t("span",{staticClass:"color-grid ms-2"},[t("fa-icon",{attrs:{icon:"square"}})],1)]):t("div",{staticClass:"d-flex flex-nowrap"},[t("span",[e._v(e._s(e.$t("main.energyflow.pvExport")))]),t("span",{staticClass:"color-export ms-2"},[t("fa-icon",{attrs:{icon:"square"}})],1)])]),t("div",{staticClass:"col-12 col-md-6 pe-md-5 pb-4 d-flex flex-column justify-content-between"},[t("div",{staticClass:"d-flex justify-content-between align-items-end mb-4"},[t("h3",{staticClass:"m-0"},[e._v("In")]),t("span",{staticClass:"fw-bold opacity-25"},[e._v(e._s(e.kw(e.inPower)))])]),t("div",[t("EnergyflowEntry",{attrs:{name:e.$t("main.energyflow.pvProduction"),icon:"sun",power:e.pvProduction,valuesInKw:e.valuesInKw,type:"source"}}),e.batteryConfigured?t("EnergyflowEntry",{attrs:{name:e.$t("main.energyflow.batteryDischarge"),icon:"battery",soc:e.batterySoC,power:e.batteryDischarge,valuesInKw:e.valuesInKw,type:"source"}}):e._e(),t("EnergyflowEntry",{attrs:{name:e.$t("main.energyflow.gridImport"),icon:"powersupply",power:e.gridImport,valuesInKw:e.valuesInKw,type:"source"}})],1)]),t("div",{staticClass:"col-12 col-md-6 ps-md-5 pb-4 d-flex flex-column justify-content-between"},[t("div",{staticClass:"d-flex justify-content-between align-items-end mb-4"},[t("h3",{staticClass:"m-0"},[e._v("Out")]),t("span",{staticClass:"fw-bold opacity-25"},[e._v(e._s(e.kw(e.outPower)))])]),t("div",[t("EnergyflowEntry",{attrs:{name:e.$t("main.energyflow.homePower"),icon:"home",power:e.homePower,valuesInKw:e.valuesInKw,type:"consumer"}}),t("EnergyflowEntry",{attrs:{name:e.$tc("main.energyflow.loadpoints",e.activeLoadpointsCount,{count:e.activeLoadpointsCount}),icon:"car3",power:e.loadpointsPower,valuesInKw:e.valuesInKw,type:"consumer"}}),e.batteryConfigured?t("EnergyflowEntry",{attrs:{name:e.$t("main.energyflow.batteryCharge"),icon:"battery",soc:e.batterySoC,power:e.batteryCharge,valuesInKw:e.valuesInKw,type:"consumer"}}):e._e(),t("EnergyflowEntry",{attrs:{name:e.$t("main.energyflow.pvExport"),icon:"powersupply",power:e.pvExport,valuesInKw:e.valuesInKw,type:"consumer"}})],1)])])])])},da=[];O._withStripped=!0;const ua={name:"Energyflow",components:{Visualization:ia,EnergyflowEntry:ca},mixins:[u],props:{gridConfigured:Boolean,gridPower:{type:Number,default:0},homePower:{type:Number,default:0},pvConfigured:Boolean,pvPower:{type:Number,default:0},loadpointsPower:{type:Number,default:0},activeLoadpointsCount:{type:Number,default:0},batteryConfigured:Boolean,batteryPower:{type:Number,default:0},batterySoC:{type:Number,default:0}},computed:{gridImport:function(){return Math.max(0,this.gridPower)},pvProduction:function(){return this.pvConfigured?Math.abs(this.pvPower):this.pvExport},batteryPowerAdjusted:function(){const e=50;return Math.abs(this.batteryPower)<e?0:this.batteryPower},batteryDischarge:function(){return Math.abs(Math.max(0,this.batteryPowerAdjusted))},batteryCharge:function(){return Math.abs(Math.min(0,this.batteryPowerAdjusted)*-1)},selfConsumption:function(){const e=this.batteryDischarge+this.pvProduction,a=this.homePower+this.batteryCharge+this.loadpointsPower;return Math.min(e,a)},pvExport:function(){return Math.max(0,this.gridPower*-1)},valuesInKw:function(){return this.gridImport+this.selfConsumption+this.pvExport>1e3},inPower:function(){return this.gridImport+this.pvProduction+this.batteryDischarge},outPower:function(){return this.homePower+this.loadpointsPower+this.pvExport+this.batteryCharge}},methods:{kw:function(e){return this.fmtKw(e,this.valuesInKw)}}},Z={};var q=n(ua,O,da,!1,pa,"3bddf544",null,null);function pa(e){for(let a in Z)this[a]=Z[a]}q.options.__file="js/components/Energyflow/Energyflow.vue";var Y=function(){return q.exports}(),Q=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"mode-group border d-inline-flex",attrs:{role:"group"}},e._l(e.modes,function(s){return t("button",{key:s,staticClass:"btn btn-sm",class:{active:e.mode==s},attrs:{type:"button"},on:{click:function(r){return e.setTargetMode(s)}}},[t("span",{staticClass:"d-inline d-sm-none"},[e._v(" "+e._s(e.$t("main.mode."+s+"Short"))+" ")]),t("span",{staticClass:"d-none d-sm-inline"},[e._v(" "+e._s(e.$t("main.mode."+s+"Long"))+" ")])])}),0)])},ma=[];Q._withStripped=!0;const ha={name:"Mode",props:{mode:String},data(){return{modes:["off","now","minpv","pv"]}},methods:{setTargetMode:function(e){this.$emit("updated",e)}}},J={};var X=n(ha,Q,ma,!1,va,"7b993764",null,null);function va(e){for(let a in J)this[a]=J[a]}X.options.__file="js/components/Mode.vue";var ga=function(){return X.exports}(),v={methods:{collectProps:function(e){let a={};for(var t in e.props)a[t]=this[t];return a}}},ee=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"mb-2 label"},[e._v(e._s(e.label))]),t("h3",{staticClass:"value"},[e._v(" "+e._s(e.value)),e.extraValue?t("span",{staticClass:"extraValue"},[e._v(" / "+e._s(e.extraValue))]):e._e()])])},fa=[];ee._withStripped=!0;const _a={name:"LabelAndValue",props:{label:String,value:String,extraValue:String}},te={};var ae=n(_a,ee,fa,!1,ba,"6d5d6c06",null,null);function ba(e){for(let a in te)this[a]=te[a]}ae.options.__file="js/components/LabelAndValue.vue";var se=function(){return ae.exports}(),re=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"vehicle-soc"},[t("div",{staticClass:"progress"},[t("div",{staticClass:"progress-bar",class:e.progressColor,style:{width:e.vehicleSoCDisplayWidth+"%"},attrs:{role:"progressbar"}}),e.remainingSoCWidth>0&&e.enabled?t("div",{staticClass:"progress-bar bg-muted",class:e.progressColor,style:{width:e.remainingSoCWidth+"%",transition:"none"},attrs:{role:"progressbar"}}):e._e()]),t("div",{staticClass:"target"},[t("div",{staticClass:"target-label d-flex align-items-center justify-content-center",style:{left:e.visibleTargetSoC+"%"}}),t("input",{staticClass:"target-slider",attrs:{type:"range",min:"0",max:"100",step:"5"},domProps:{value:e.visibleTargetSoC},on:{input:e.movedTargetSoC,mousedown:e.changeTargetSoCStart,touchstart:e.changeTargetSoCStart,mouseup:e.changeTargetSoCEnd,touchend:e.changeTargetSoCEnd}})])])},Ca=[];re._withStripped=!0;const ya={name:"VehicleSoc",props:{connected:Boolean,vehiclePresent:Boolean,vehicleSoC:Number,enabled:Boolean,charging:Boolean,minSoC:Number,targetSoC:Number},data:function(){return{selectedTargetSoC:null,interactionStartScreenY:null}},computed:{vehicleSoCDisplayWidth:function(){return this.vehiclePresent&&this.vehicleSoC>=0?this.vehicleSoC:100},progressColor:function(){return this.connected?this.minSoCActive?"bg-danger":"bg-primary":"bg-light border"},minSoCActive:function(){return this.minSoC>0&&this.vehicleSoC<this.minSoC},remainingSoCWidth:function(){return this.vehicleSoCDisplayWidth===100?null:this.minSoCActive?this.minSoC-this.vehicleSoC:this.visibleTargetSoC>this.vehicleSoC?this.visibleTargetSoC-this.vehicleSoC:null},visibleTargetSoC:function(){return Number(this.selectedTargetSoC||this.targetSoC)}},watch:{targetSoC:function(){this.selectedTargetSoC=this.targetSoC}},methods:{changeTargetSoCStart:function(e){const a=e.screenY||e.changedTouches[0].screenY;this.interactionStartScreenY=a},changeTargetSoCEnd:function(e){const a=e.screenY||e.changedTouches[0].screenY;if(Math.abs(a-this.interactionStartScreenY)>80)return e.preventDefault(),e.target.value=this.targetSoC,this.selectedTargetSoC=this.targetSoC,!1;e.target.value!==this.targetSoC&&this.$emit("target-soc-updated",e.target.value)},movedTargetSoC:function(e){const a=20;return e.target.value<a?(e.target.value=a,this.selectedTargetSoC=e.target.value,e.preventDefault(),!1):(this.selectedTargetSoC=e.target.value,!0)}}},ie={};var ne=n(ya,re,Ca,!1,wa,"2cc325bc",null,null);function wa(e){for(let a in ie)this[a]=ie[a]}ne.options.__file="js/components/VehicleSoc.vue";var oe=function(){return ne.exports}(),le=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"d-block text-gray"},[e._v(e._s(e.message)+"\xA0")])},Sa=[];le._withStripped=!0;const xa={name:"VehicleStatus",mixins:[v,u],props:{vehicleSoC:Number,minSoC:Number,enabled:Boolean,connected:Boolean,charging:Boolean,targetTime:String,phaseAction:String,phaseRemainingInterpolated:Number,pvAction:String,pvRemainingInterpolated:Number},computed:{phaseTimerActive(){return this.charging&&this.phaseRemainingInterpolated>0&&["scale1p","scale3p"].includes(this.phaseAction)},pvTimerActive(){return this.pvRemainingInterpolated>0&&["enable","disable"].includes(this.pvAction)},message:function(){const e=(a,t)=>this.$t(`main.vehicleStatus.${a}`,t);if(this.minSoC>0&&this.vehicleSoC<this.minSoC)return e("minCharge",{soc:this.minSoC});if(this.targetTime){const a=new Date(this.targetTime),t={time:this.fmtAbsoluteDate(a)};return this.charging?e("targetChargeActive",t):this.enabled?e("targetChargeWaitForVehicle",t):e("targetChargePlanned",t)}return this.pvTimerActive&&!this.enabled&&this.pvAction==="enable"?e("pvEnable",{remaining:this.fmtShortDuration(this.pvRemainingInterpolated,!0)}):this.enabled&&!this.charging?e("waitForVehicle"):this.pvTimerActive&&this.charging&&this.pvAction==="disable"?e("pvDisable",{remaining:this.fmtShortDuration(this.pvRemainingInterpolated,!0)}):this.phaseTimerActive?e(this.phaseAction,{remaining:this.fmtShortDuration(this.phaseRemainingInterpolated,!0)}):this.charging?e("charging"):this.connected?e("connected"):""}}},ce={};var de=n(xa,le,Sa,!1,$a,null,null,null);function $a(e){for(let a in ce)this[a]=ce[a]}de.options.__file="js/components/VehicleStatus.vue";var ue=function(){return de.exports}(),pe=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"d-flex justify-content-between justify-content-center"},[t("h5",{staticClass:"title text-gray-medium text-uppercase"},[e._v(" "+e._s(e.$t("main.targetCharge.title"))+" ")]),e.targetChargeEnabled?e._e():t("button",{staticClass:"btn btn-link text-gray-medium p-0",attrs:{"data-bs-toggle":"modal","data-bs-target":"#"+e.modalId}},[t("shopicon-filled-plus",{attrs:{size:"s"}})],1)]),e.targetChargeEnabled?t("div",{staticClass:"d-flex justify-content-between justify-content-center"},[t("p",{staticClass:"my-2"},[e._v(e._s(e.targetTime))]),t("button",{staticClass:"btn btn-link text-gray-medium p-0",attrs:{"data-bs-toggle":"modal","data-bs-target":"#"+e.modalId}},[t("shopicon-filled-edit",{attrs:{size:"s"}})],1)]):t("p",{staticClass:"my-2"},[e._v(e._s(e.$t("main.targetCharge.noTargetTime")))]),t("div",{staticClass:"modal fade text-dark",attrs:{id:e.modalId,"data-bs-backdrop":"false",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[t("div",{staticClass:"modal-dialog modal-dialog-centered modal-dialog-scrollable",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("main.targetCharge.modalTitle"))+" ")]),t("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),t("form",{on:{submit:function(s){return s.preventDefault(),e.setTargetTime.apply(null,arguments)}}},[t("div",{staticClass:"modal-body"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"mb-3",attrs:{for:"targetTimeLabel"},domProps:{innerHTML:e._s(e.$t("main.targetCharge.description",{targetSoC:e.targetSoC}))}}),t("div",{staticClass:"d-flex justify-content-between",style:{"max-width":"350px"}},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDay,expression:"selectedDay"}],staticClass:"form-select me-2",style:{"flex-basis":"60%"},on:{change:function(s){var r=Array.prototype.filter.call(s.target.options,function(i){return i.selected}).map(function(i){var l="_value"in i?i._value:i.value;return l});e.selectedDay=s.target.multiple?r:r[0]}}},e._l(e.dayOptions(),function(s){return t("option",{key:s.value,domProps:{value:s.value}},[e._v(" "+e._s(s.name)+" ")])}),0),t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedTime,expression:"selectedTime"}],staticClass:"form-control ms-2",style:{"flex-basis":"40%"},attrs:{type:"time",step:60*5,required:""},domProps:{value:e.selectedTime},on:{input:function(s){s.target.composing||(e.selectedTime=s.target.value)}}})])]),e.selectedTargetTimeValid?e._e():t("p",{staticClass:"text-danger mb-0"},[e._v(" "+e._s(e.$t("main.targetCharge.targetIsInThePast"))+" ")]),t("p",{staticClass:"small mt-3 text-muted"},[t("strong",{staticClass:"text-primary"},[t("fa-icon",{attrs:{icon:"flask"}}),e._v(" "+e._s(e.$t("main.targetCharge.experimentalLabel"))+": ")],1),e._v(" "+e._s(e.$t("main.targetCharge.experimentalText"))+" "),t("a",{attrs:{href:"https://github.com/evcc-io/evcc/discussions/1433",target:"_blank"}},[e._v("GitHub Discussions")]),e._v(". ")])]),t("div",{staticClass:"modal-footer d-flex justify-content-between"},[t("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-bs-dismiss":"modal"},on:{click:e.removeTargetTime}},[e._v(" "+e._s(e.$t("main.targetCharge.remove"))+" ")]),t("button",{staticClass:"btn btn-primary",attrs:{type:"submit","data-bs-dismiss":"modal",disabled:!e.selectedTargetTimeValid}},[e._v(" "+e._s(e.$t("main.targetCharge.activate"))+" ")])])])])])])])},Ta=[];pe._withStripped=!0;const Pa=7,Ea={name:"TargetCharge",mixins:[u],props:{id:Number,targetTime:String,targetTimeActive:Boolean,targetTimeHourSuggestion:Number,targetSoC:Number},data:function(){return{selectedDay:null,selectedTime:null}},computed:{targetChargeEnabled:function(){return this.targetTime},selectedTargetTimeValid:function(){return new Date<this.selectedTargetTime},selectedTargetTime:function(){return new Date(`${this.selectedDay}T${this.selectedTime||"00:00"}`)},modalId:function(){return`targetChargeModal_${this.id}`}},watch:{targetTime(){this.initInputFields()}},mounted:function(){this.initInputFields()},methods:{targetTimeLabel:function(){if(this.targetChargeEnabled){const e=new Date(this.targetTime);return this.$t("main.targetCharge.activeLabel",{time:this.fmtAbsoluteDate(e)})}return this.$t("main.targetCharge.inactiveLabel")},defaultDate:function(){const e=new Date;return e.setSeconds(0),e.setMinutes(0),Number.isInteger(this.targetTimeHourSuggestion)?e.setUTCHours(this.targetTimeHourSuggestion):e.setHours(Pa),e<new Date&&e.setDate(e.getDate()+1),e},initInputFields:function(){let e=this.defaultDate(),a=new Date(this.targetTime)>new Date;this.targetChargeEnabled&&a&&(e=new Date(this.targetTime)),this.selectedDay=this.fmtDayString(e),this.selectedTime=this.fmtTimeString(e)},dayOptions:function(){const e=[],a=new Date,t=[this.$t("main.targetCharge.today"),this.$t("main.targetCharge.tomorrow")];for(let s=0;s<7;s++){const r=a.toLocaleDateString("default",{month:"short",day:"numeric"}),i=t[s]||a.toLocaleDateString("default",{weekday:"long"});e.push({value:a.toISOString().split("T")[0],name:`${r} (${i})`}),a.setDate(a.getDate()+1)}return e},minTime:function(){return new Date().toISOString().split("T")[1].slice(0,-8)},setTargetTime:function(){this.$emit("target-time-updated",this.selectedTargetTime)},removeTargetTime:function(){this.$emit("target-time-removed")}}},me={};var he=n(Ea,pe,Ta,!1,Da,"0d69c366",null,null);function Da(e){for(let a in me)this[a]=me[a]}he.options.__file="js/components/TargetCharge.vue";var ve=function(){return he.exports}(),ge=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"vehicle p-4"},[t("div",{staticClass:"d-flex justify-content-between mb-2 align-items-center"},[t("h4",{staticClass:"d-flex align-items-center m-0"},[t("shopicon-regular-car3",{staticClass:"me-2",attrs:{size:"m"}}),e._v(" "+e._s(e.vehicleTitle||e.$t("main.vehicle.fallbackName"))+" ")],1),t("button",{staticClass:"btn btn-link text-white p-0"},[t("shopicon-filled-options",{attrs:{size:"s"}})],1)]),t("VehicleStatus",e._b({staticClass:"mb-2",on:{"target-time-updated":e.setTargetTime,"target-time-removed":e.removeTargetTime}},"VehicleStatus",e.vehicleStatus,!1)),t("VehicleSoc",e._b({staticClass:"mb-4",on:{"target-soc-updated":e.targetSocUpdated}},"VehicleSoc",e.vehicleSocProps,!1)),t("div",{staticClass:"d-flex"},[t("LabelAndValue",{staticClass:"flex-grow-1",attrs:{label:e.$t("main.vehicle.vehicleSoC"),value:e.vehicleSoC+" %",extraValue:e.vehicleRange?e.vehicleRange+" km":null}}),t("LabelAndValue",{staticClass:"flex-grow-1",attrs:{label:e.$t("main.vehicle.targetSoC"),value:e.displayTargetSoC+" %"}})],1),t("hr",{staticClass:"divider my-3"}),t("TargetCharge",e._b({on:{"target-time-updated":e.setTargetTime,"target-time-removed":e.removeTargetTime}},"TargetCharge",e.targetCharge,!1))],1)},Na=[];ge._withStripped=!0;const ka={name:"Vehicle",components:{VehicleSoc:oe,VehicleStatus:ue,LabelAndValue:se,TargetCharge:ve},mixins:[v],props:{id:Number,connected:Boolean,vehiclePresent:Boolean,vehicleSoC:Number,enabled:Boolean,charging:Boolean,minSoC:Number,vehicleRange:Number,vehicleTitle:String,targetTimeActive:Boolean,targetTimeHourSuggestion:Number,targetTime:String,targetSoC:Number,phaseAction:String,phaseRemainingInterpolated:Number,pvAction:String,pvRemainingInterpolated:Number},data(){return{displayTargetSoC:this.targetSoC}},computed:{vehicleSocProps:function(){return this.collectProps(oe)},vehicleStatus:function(){return this.collectProps(ue)},targetCharge:function(){return this.collectProps(ve)}},methods:{targetSocUpdated:function(e){this.displayTargetSoC=e,this.$emit("target-soc-updated",e)},setTargetTime:function(e){this.$emit("target-time-updated",e)},removeTargetTime:function(){this.$emit("target-time-removed")}}},fe={};var _e=n(ka,ge,Na,!1,Ia,"634f6b0a",null,null);function Ia(e){for(let a in fe)this[a]=fe[a]}_e.options.__file="js/components/Vehicle.vue";var be=function(){return _e.exports}(),Ce=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"phases d-flex flex-column justify-content-between",class:"active-phases-"+e.activePhases},e._l([1,2,3],function(s){return t("div",{key:s,staticClass:"phase",class:{inactive:e.inactive(s)}},[t("div",{staticClass:"target",style:{width:e.targetWidth()+"%"}}),t("div",{staticClass:"real",style:{width:e.realWidth(s)+"%"}})])}),0)},La=[];Ce._withStripped=!0;const Aa={name:"Phases",props:{chargeCurrent:{type:Number},chargeCurrents:{type:Object},activePhases:{type:Number},minCurrent:{type:Number},maxCurrent:{type:Number},phaseAction:{type:String},phaseRemaining:{type:Number}},computed:{phaseTimerVisible(){return this.phaseTimerActive&&!this.pvTimerActive?!0:this.phaseTimerActive&&this.pvTimerActive?this.phaseRemainingInterpolated<this.pvRemainingInterpolated:!1},pvTimerVisible(){return this.pvTimerActive&&!this.phaseTimerActive?!0:this.pvTimerActive&&this.phaseTimerActive?this.pvRemainingInterpolated<this.phaseRemainingInterpolated:!1}},methods:{inactive(e){return e>this.activePhases},targetWidth(){let e=Math.min(Math.max(this.minCurrent,this.chargeCurrent),this.maxCurrent);return 100/this.maxCurrent*e},realWidth(e){if(this.chargeCurrents){const a=this.chargeCurrents[e-1]||0;return 100/this.maxCurrent*a}return this.targetWidth()}}},ye={};var we=n(Aa,Ce,La,!1,ja,"58ab894e",null,null);function ja(e){for(let a in ye)this[a]=ye[a]}we.options.__file="js/components/Phases.vue";var Se=function(){return we.exports}(),xe=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"loadpoint bg-white px-4 px-sm-5 py-4"},[t("div",{staticClass:"d-flex justify-content-between align-items-center mb-4 flex-wrap"},[t("h3",{staticClass:"mb-2 me-2"},[e._v(" "+e._s(e.title||e.$t("main.loadpoint.fallbackName"))+" ")]),t("Mode",{staticClass:"mb-2",attrs:{mode:e.mode},on:{updated:e.setTargetMode}})],1),e.remoteDisabled?t("div",{staticClass:"alert alert-warning my-4 py-2",class:""+(e.remoteDisabled==="hard"?"alert-danger":"alert-warning"),attrs:{role:"alert"}},[e._v(" "+e._s(e.$t(e.remoteDisabled==="hard"?"main.loadpoint.remoteDisabledHard":"main.loadpoint.remoteDisabledSoft",{source:e.remoteDisabledSource}))+" ")]):e._e(),t("div",{staticClass:"details d-flex align-items-start mb-3"},[t("div",{staticClass:"d-flex align-items-center"},[t("div",[t("LabelAndValue",{attrs:{label:e.$t("main.loadpoint.power"),value:e.fmtKw(e.chargePower)}}),t("Phases",e._b({staticClass:"opacity-transiton",class:"opacity-"+(e.charging?"100":"0")},"Phases",e.phasesProps,!1))],1),t("shopicon-regular-lightning",{staticClass:"text-evcc opacity-transiton",class:"opacity-"+(e.charging?"100":"0"),attrs:{size:"m"}})],1),t("LabelAndValue",{attrs:{label:e.$t("main.loadpoint.charged"),value:e.fmtKw(e.chargedEnergy)}}),e.chargeRemainingDurationInterpolated?t("LabelAndValue",{attrs:{label:e.$t("main.loadpoint.remaining"),value:`
				`+e.fmtShortDuration(e.chargeRemainingDurationInterpolated)+`
				`+e.fmtShortDurationUnit(e.chargeRemainingDurationInterpolated,!0)}}):t("LabelAndValue",{attrs:{label:e.$t("main.loadpoint.duration"),value:`
				`+e.fmtShortDuration(e.chargeDurationInterpolated)+`
				`+e.fmtShortDurationUnit(e.chargeDurationInterpolated)}})],1),t("Vehicle",e._b({on:{"target-soc-updated":e.setTargetSoC,"target-time-updated":e.setTargetTime,"target-time-removed":e.removeTargetTime}},"Vehicle",e.vehicle,!1))],1)},Ra=[];xe._withStripped=!0;const Ba={name:"Loadpoint",components:{Mode:ga,Vehicle:be,Phases:Se,LabelAndValue:se},mixins:[u,v],props:{id:Number,single:Boolean,title:String,mode:String,targetSoC:Number,remoteDisabled:Boolean,remoteDisabledSource:String,chargeDuration:Number,charging:Boolean,connected:Boolean,enabled:Boolean,vehicleTitle:String,vehicleSoC:Number,vehiclePresent:Boolean,vehicleRange:Number,minSoC:Number,targetTime:String,targetTimeActive:Boolean,targetTimeHourSuggestion:Number,chargePower:Number,chargedEnergy:Number,climater:String,chargeRemainingDuration:Number,phases:Number,minCurrent:Number,maxCurrent:Number,activePhases:Number,chargeCurrent:Number,vehicleCapacity:Number,connectedDuration:Number,chargeCurrents:Array,chargeConfigured:Boolean,chargeRemainingEnergy:Number,phaseAction:String,phaseRemaining:Number,pvRemaining:Number,pvAction:String},data(){return{tickerHandler:null,phaseRemainingInterpolated:this.phaseRemaining,pvRemainingInterpolated:this.pvRemaining,chargeDurationInterpolated:this.chargeDuration,chargeRemainingDurationInterpolated:this.chargeRemainingDuration}},computed:{phasesProps:function(){return this.collectProps(Se)},vehicle:function(){return this.collectProps(be)}},watch:{phaseRemaining(){this.phaseRemainingInterpolated=this.phaseRemaining},pvRemaining(){this.pvRemainingInterpolated=this.pvRemaining},chargeDuration(){this.chargeDurationInterpolated=this.chargeDuration},chargeRemainingDuration(){this.chargeDurationInterpolated=this.chargeRemainingDuration}},mounted(){this.tickerHandler=setInterval(this.tick,1e3)},destroyed(){clearInterval(this.tickerHandler)},methods:{tick(){this.phaseRemainingInterpolated>0&&this.phaseRemainingInterpolated--,this.pvRemainingInterpolated>0&&this.pvRemainingInterpolated--,this.chargeDurationInterpolated>0&&this.charging&&this.chargeDurationInterpolated++,this.chargeRemainingDurationInterpolated>0&&this.charging&&this.chargeRemainingDurationInterpolated--},apiPath:function(e){return"loadpoints/"+this.id+"/"+e},setTargetMode:function(e){m.post(this.apiPath("mode")+"/"+e)},setTargetSoC:function(e){m.post(this.apiPath("targetsoc")+"/"+e)},setTargetTime:function(e){const a=`${this.fmtDayString(e)}T${this.fmtTimeString(e)}:00`;m.post(this.apiPath("targetcharge")+"/"+this.targetSoC+"/"+a)},removeTargetTime:function(){m.delete(this.apiPath("targetcharge"))}}},$e={};var Te=n(Ba,xe,Ra,!1,Ma,"857c6a0e",null,null);function Ma(e){for(let a in $e)this[a]=$e[a]}Te.options.__file="js/components/Loadpoint.vue";var Va=function(){return Te.exports}(),Pe=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container px-0"},[t("div",{ref:"carousel",staticClass:"carousel d-lg-flex flex-wrap"},e._l(e.loadpoints,function(s,r){return t("div",{key:r,staticClass:"flex-grow-1 mb-3 me-lg-4 mx-lg-2 pb-lg-2"},[t("Loadpoint",e._b({class:{"loadpoint-unselected":!e.selected(r)},attrs:{id:r}},"Loadpoint",s,!1))],1)}),0),t("div",{staticClass:"d-flex d-lg-none justify-content-center"},e._l(e.loadpoints,function(s,r){return t("button",{key:r,staticClass:"btn btn-sm btn-link p-0 mx-1 indicator d-flex justify-content-center align-items-center text-white",on:{click:function(i){return e.scrollTo(r)}}},[t("div",{staticClass:"indicator--dot rounded-circle",class:{"bg-white":e.selected(r)}})])}),0)])},Fa=[];Pe._withStripped=!0;const za={name:"Site",components:{Loadpoint:Va},mixins:[v],props:{loadpoints:Array},data(){return{selectedIndex:0}},mounted(){this.$refs.carousel.addEventListener("scroll",this.handleCarouselScroll,!1)},destroyed(){this.$refs.carousel.removeEventListener("scroll",this.handleCarouselScroll)},methods:{handleCarouselScroll(){const{offsetWidth:e,scrollLeft:a}=this.$refs.carousel;this.selectedIndex=Math.round(a/e)},selected(e){return this.selectedIndex===e},scrollTo(e){const a=this.$refs.carousel,t=a.offsetWidth;a.style.scrollSnapType="none",a.scrollTo({top:0,left:t*e,behavior:"smooth"}),setTimeout(()=>{this.$refs.carousel.style.scrollSnapType="x mandatory"},500)}}},Ee={};var De=n(za,Pe,Fa,!1,Ua,"22b9956c",null,null);function Ua(e){for(let a in Ee)this[a]=Ee[a]}De.options.__file="js/components/Loadpoints.vue";var Ha=function(){return De.exports}(),Ne=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e.newVersionAvailable?t("button",{staticClass:"btn btn-link ps-0 text-decoration-none text-white text-nowrap",attrs:{href:"#","data-bs-toggle":"modal","data-bs-target":"#updateModal"}},[t("fa-icon",{staticClass:"icon me-2",attrs:{icon:"gift"}}),e._v("v"+e._s(e.installed)+" "),t("span",{staticClass:"d-none d-xs-inline d-sm-none text-white text-decoration-underline"},[e._v(" "+e._s(e.$t("footer.version.availableShort"))+" ")]),t("span",{staticClass:"d-none d-sm-inline text-muted text-white text-decoration-underline"},[e._v(" "+e._s(e.$t("footer.version.availableLong"))+" ")])],1):t("a",{staticClass:"btn btn-link text-white ps-0 text-decoration-none text-nowrap",attrs:{href:e.releaseNotesUrl(e.installed),target:"_blank"}},[t("span",{staticClass:"d-inline d-xs-none d-sm-none"},[e._v(e._s(e.$t("footer.version.versionShort",{installed:e.installed})))]),t("span",{staticClass:"d-none d-xs-inline d-sm-inline"},[e._v(e._s(e.$t("footer.version.versionLong",{installed:e.installed})))])]),t("div",{staticClass:"modal fade text-dark",attrs:{id:"updateModal",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[t("div",{staticClass:"modal-dialog modal-dialog-centered modal-dialog-scrollable",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(e._s(e.$t("footer.version.modalTitle")))]),t("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),t("div",{staticClass:"modal-body"},[e.updateStarted?t("div",[t("p",[e._v(e._s(e.$t("footer.version.modalUpdateStarted")))]),t("div",{staticClass:"progress my-3"},[t("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",style:{width:e.uploadProgress+"%"},attrs:{role:"progressbar"}})]),t("p",[e._v(e._s(e.updateStatus)+e._s(e.uploadMessage))])]):t("div",[t("p",[t("small",[e._v(" "+e._s(e.$t("footer.version.modalInstalledVersion"))+": "+e._s(e.installed)+" ")])]),e.releaseNotes?t("div",{domProps:{innerHTML:e._s(e.releaseNotes)}}):t("p",[e._v(" "+e._s(e.$t("footer.version.modalNoReleaseNotes"))+" "),t("a",{attrs:{href:e.releaseNotesUrl(e.available)}},[e._v("GitHub")]),e._v(". ")])])]),t("div",{staticClass:"modal-footer d-flex justify-content-between"},[t("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",disabled:e.updateStarted,"data-bs-dismiss":"modal"}},[e._v(" "+e._s(e.$t("footer.version.modalCancel"))+" ")]),t("div",[e.hasUpdater?t("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:e.updateStarted},on:{click:e.update}},[e.updateStarted?t("span",[t("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),e._v(" "+e._s(e.$t("footer.version.modalUpdate"))+" ")]):t("span",[e._v(e._s(e.$t("footer.version.modalUpdateNow")))])]):t("a",{staticClass:"btn btn-primary",attrs:{href:e.releaseNotesUrl(e.available)}},[e._v(" "+e._s(e.$t("footer.version.modalDownload"))+" ")])])])])])])])},Wa=[];Ne._withStripped=!0;const Ka={name:"Version",props:{installed:String,available:String,releaseNotes:String,commit:String,hasUpdater:Boolean,uploadMessage:String,uploadProgress:Number},data:function(){return{updateStarted:!1,updateStatus:""}},computed:{githubHashUrl:function(){return`https://github.com/evcc-io/evcc/commit/${this.commit}`},newVersionAvailable:function(){return this.available&&this.installed!="[[.Version]]"&&this.installed!="0.0.1-alpha"&&this.available!=this.installed}},methods:{update:async function(){try{await m.post("update"),this.updateStatus=this.$t("footer.version.modalUpdateStatusStart"),this.updateStarted=!0}catch(e){this.updateStatus=this.$t("footer.version.modalUpdateStatusStart")+e}},releaseNotesUrl:function(e){return`https://github.com/evcc-io/evcc/releases/tag/${e}`}}},ke={};var Ie=n(Ka,Ne,Wa,!1,Ga,"2a59bbb2",null,null);function Ga(e){for(let a in ke)this[a]=ke[a]}Ie.options.__file="js/components/Version.vue";var Oa=function(){return Ie.exports}(),Le=function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.sponsor?t("div",[t("p",{staticClass:"mb-3"},[e._v(" "+e._s(e.$t("footer.sponsor.thanks",{sponsor:e.sponsor}))+" ")]),t("div",{staticClass:"d-flex justify-content-center flex-column"},[t("button",{ref:"confetti",staticClass:"btn btn-primary mb-2 confetti-button bg-evcc",on:{click:e.surprise}},[t("fa-icon",{staticClass:"icon me-1 solid",attrs:{icon:["fas","heart"]}}),e._v(" "+e._s(e.$t("footer.sponsor.confetti"))+" ")],1),t("a",{staticClass:"small text-muted text-center",attrs:{href:"https://evcc.io/sticker",target:"_blank"}},[e._v(" "+e._s(e.$t("footer.sponsor.sticker"))+" ")])])]):t("div",[t("p",{staticClass:"mb-3"},[e._v(" "+e._s(e.$t("footer.sponsor.supportUs"))+" ")]),t("div",{staticClass:"d-flex justify-content-center flex-column"},[t("a",{staticClass:"btn btn-outline-primary mb-2",attrs:{target:"_blank",href:"https://github.com/sponsors/andig"}},[t("fa-icon",{staticClass:"icon me-1",attrs:{icon:["far","heart"]}}),e._v(" "+e._s(e.$t("footer.sponsor.becomeSponsor"))+" ")],1),t("div",{staticClass:"small text-muted text-center"},[e._v(" "+e._s(e.$t("footer.sponsor.confettiPromise"))+" ")])])])},Za=[];Le._withStripped=!0;const qa={name:"Sponsor",props:{sponsor:String},methods:{surprise:function(){const e=this.$refs.confetti,a=45+Math.random()*90,t=0,{top:s,height:r,left:i,width:l}=e.getBoundingClientRect(),h=(i+l/2)/window.innerWidth,o=(s+r/2)/window.innerHeight;At({origin:{x:h,y:o},angle:a,particleCount:75+Math.random()*50,spread:50+Math.random()*50,drift:t,scalar:1.3,zIndex:1056,colors:["#0d6efd","#0fdd42","#408458","#4923BA","#5BC8EC","#C54482","#CC444A","#EE8437","#F7C144","#FFFD54"]})}}},Ae={};var je=n(qa,Le,Za,!1,Ya,"0f5f312e",null,null);function Ya(e){for(let a in Ae)this[a]=Ae[a]}je.options.__file="js/components/Sponsor.vue";var Qa=function(){return je.exports}(),Re=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("button",{staticClass:"btn btn-link pe-0 text-decoration-none text-white text-nowrap d-flex",attrs:{"data-bs-toggle":"modal","data-bs-target":"#savingsModal"}},[t("span",{staticClass:"d-inline d-sm-none"},[e._v(e._s(e.$t("footer.savings.footerShort",{percent:e.percent})))]),t("span",{staticClass:"d-none d-sm-inline"},[e._v(e._s(e.$t("footer.savings.footerLong",{percent:e.percent})))]),t("shopicon-regular-sun",{staticClass:"ms-2 text-evcc"})],1),t("div",{ref:"modal",staticClass:"modal fade text-dark",attrs:{id:"savingsModal","data-bs-backdrop":"false",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[t("div",{staticClass:"modal-dialog modal-dialog-centered modal-dialog-scrollable",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[t("span",{staticClass:"d-block d-sm-none"},[e._v(" "+e._s(e.$t("footer.savings.modalTitleShort",{percent:e.percent,total:e.fmtKw(e.totalCharged*1e3,!0,!1)}))+" ")]),t("span",{staticClass:"d-none d-sm-block"},[e._v(" "+e._s(e.$t("footer.savings.modalTitleLong",{percent:e.percent,total:e.fmtKw(e.totalCharged*1e3,!0,!1)}))+" ")])]),t("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),t("div",{staticClass:"modal-body py-4"},[t("div",{staticClass:"chart-container mb-3"},[t("div",{staticClass:"chart-legend d-flex flex-wrap justify-content-between mb-1"},[t("div",{staticClass:"text-nowrap"},[t("shopicon-regular-sun",{staticClass:"text-evcc align-bottom d-inline-block"}),e._v(" "+e._s(e.$t("footer.savings.modalChartSelf",{self:e.fmtKw(e.selfConsumptionCharged*1e3,!0,!1)}))+" ")],1),t("div",{staticClass:"text-nowrap"},[t("fa-icon",{staticClass:"text-grid",attrs:{icon:"square"}}),e._v(" "+e._s(e.$t("footer.savings.modalChartGrid",{grid:e.fmtKw(e.gridCharged*1e3,!0,!1)}))+" ")],1)]),t("div",{staticClass:"chart d-flex justify-content-stretch mb-1 rounded overflow-hidden"},[e.totalCharged>0?t("div",{staticClass:"chart-item chart-item--self d-flex justify-content-center text-white flex-shrink-1",style:{width:e.percent+"%"}},[t("span",{staticClass:"text-truncate"},[e._v(" "+e._s(e.percent)+"% ")])]):e._e(),e.totalCharged>0?t("div",{staticClass:"chart-item chart-item--grid d-flex justify-content-center text-white flex-shrink-1",style:{width:100-e.percent+"%"}},[t("span",{staticClass:"text-truncate"},[e._v(" "+e._s(100-e.percent)+"% ")])]):e._e(),e.totalCharged===0?t("div",{staticClass:"chart-item chart-item--no-data d-flex justify-content-center text-white w-100"},[t("span",[e._v(e._s(e.$t("footer.savings.modalNoData")))])]):e._e()])]),t("p",{staticClass:"mb-3"},[e._v(" "+e._s(e.$t("footer.savings.modalSavingsPrice"))+": "),t("strong",[e._v(e._s(e.fmtPricePerKWh(e.effectivePrice,e.currency)))]),t("br"),e._v(" "+e._s(e.$t("footer.savings.modalSavingsTotal"))+": "),t("strong",[e._v(e._s(e.fmtMoney(e.amount,e.currency)))])]),t("p",{staticClass:"small text-muted mb-3"},[t("a",{staticClass:"text-muted",attrs:{href:"https://docs.evcc.io/docs/guides/setup/#ersparnisberechnung",target:"_blank"}},[e._v(" "+e._s(e.$t("footer.savings.modalExplaination")))]),e._v(": "),t("span",{staticClass:"text-nowrap"},[e._v(" "+e._s(e.$t("footer.savings.modalExplainationGrid",{gridPrice:e.fmtPricePerKWh(e.gridPrice,e.currency)})))]),e._v(", "),t("span",{staticClass:"text-nowrap"},[e._v(" "+e._s(e.$t("footer.savings.modalExplainationFeedIn",{feedInPrice:e.fmtPricePerKWh(e.feedInPrice,e.currency)}))+" ")]),t("br"),e._v(" "+e._s(e.$t("footer.savings.modalServerStart",{since:e.fmtTimeAgo(e.secondsSinceStart())}))+" ")]),t("hr",{staticClass:"mb-4"}),t("Sponsor",{staticClass:"mb-4",attrs:{sponsor:e.sponsor}}),t("p",{staticClass:"small text-muted mb-0"},[t("strong",{staticClass:"text-primary"},[t("fa-icon",{attrs:{icon:"flask"}}),e._v(" "+e._s(e.$t("footer.savings.experimentalLabel"))+": ")],1),e._v(" "+e._s(e.$t("footer.savings.experimentalText"))+" "),t("a",{attrs:{href:"https://github.com/evcc-io/evcc/discussions/2104",target:"_blank"}},[e._v("GitHub Discussions")]),e._v(". ")])],1)])])])])},Ja=[];Re._withStripped=!0;const Xa={name:"Savings",components:{Sponsor:Qa},mixins:[u],props:{selfConsumptionPercent:Number,since:{type:Number,default:0},sponsor:String,amount:{type:Number,default:0},effectivePrice:{type:Number,default:0},totalCharged:{type:Number,default:0},gridCharged:{type:Number,default:0},selfConsumptionCharged:{type:Number,default:0},gridPrice:{type:Number},feedInPrice:{type:Number},currency:String},computed:{percent(){return Math.round(this.selfConsumptionPercent)||0}},methods:{secondsSinceStart(){return this.since*1e3-Date.now()}}},Be={};var Me=n(Xa,Re,Ja,!1,es,"cf37ccf0",null,null);function es(e){for(let a in Be)this[a]=Be[a]}Me.options.__file="js/components/Savings.vue";var ts=function(){return Me.exports}(),Ve=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("footer",{staticClass:"footer"},[t("div",{staticClass:"container py-3"},[t("div",{staticClass:"d-flex justify-content-between"},[t("Version",e._b({},"Version",e.version,!1)),t("Savings",e._b({attrs:{sponsor:e.sponsor}},"Savings",e.savings,!1))],1)])])},as=[];Ve._withStripped=!0;const ss={name:"Footer",components:{Version:Oa,Savings:ts},props:{version:Object,sponsor:String,savings:Object}},Fe={};var ze=n(ss,Ve,as,!1,rs,"39d3711c",null,null);function rs(e){for(let a in Fe)this[a]=Fe[a]}ze.options.__file="js/components/Footer.vue";var is=function(){return ze.exports}(),Ue=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"d-flex flex-column top-area"},[t("div",{staticClass:"container"},[t("div",{staticClass:"d-flex justify-content-between align-items-center"},[t("h2",{staticClass:"d-block my-4"},[e._v(" "+e._s(e.siteTitle||"Home")+" ")]),t("div",{staticClass:"py-1"},[t("TopNavigation")],1)]),t("Energyflow",e._b({},"Energyflow",e.energyflow,!1))],1),t("div",{staticClass:"d-flex flex-column content-area",style:{transform:"translateY("+(e.detailsVisible?e.detailsHeight:10)+"px)","padding-bottom":(e.detailsVisible?e.detailsHeight:10)+"px"}},[t("div",{staticClass:"toggle-handle py-3 d-flex justify-content-center",on:{click:e.toggleDetails}},[t("shopicon-regular-arrowup",{staticClass:"toggle-icon",class:"toggle-icon--"+(e.detailsVisible?"down":"up")})],1),e._m(0),t("Loadpoints",{attrs:{loadpoints:e.loadpoints}}),e._m(1),t("Footer",e._b({},"Footer",e.footer,!1))],1)])},ns=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container"},[t("h2",{staticClass:"mb-3 mb-sm-4"},[e._v("Ladepunkte")])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container"},[t("h2",{staticClass:"mt-5 mb-3 mb-sm-4"},[e._v("Parkplatz")])])}];Ue._withStripped=!0;const os={name:"Site",components:{Loadpoints:Ha,Energyflow:Y,Footer:is,TopNavigation:Zt},mixins:[u,v],props:{loadpoints:Array,gridConfigured:Boolean,gridPower:Number,homePower:Number,pvConfigured:Boolean,pvPower:Number,batteryConfigured:Boolean,batteryPower:Number,batterySoC:Number,gridCurrents:Array,prioritySoC:Number,siteTitle:String,currency:String,savingsAmount:Number,savingsEffectivePrice:Number,savingsGridCharged:Number,savingsSelfConsumptionCharged:Number,savingsSelfConsumptionPercent:Number,savingsSince:Number,savingsTotalCharged:Number,tariffFeedIn:Number,tariffGrid:Number},data:function(){return{detailsVisible:!1,detailsHeight:0}},computed:{energyflow:function(){return this.collectProps(Y)},activeLoadpointsCount:function(){return this.loadpoints.filter(e=>e.chargePower>0).length},loadpointsPower:function(){return this.loadpoints.reduce((e,a)=>(e+=a.chargePower||0,e),0)},footer:function(){return{version:{installed:window.evcc.version,available:this.availableVersion,releaseNotes:this.releaseNotes,hasUpdater:this.hasUpdater,uploadMessage:this.uploadMessage,uploadProgress:this.uploadProgress},sponsor:this.sponsor,savings:{since:this.savingsSince,totalCharged:this.savingsTotalCharged,gridCharged:this.savingsGridCharged,selfConsumptionCharged:this.savingsSelfConsumptionCharged,amount:this.savingsAmount,effectivePrice:this.savingsEffectivePrice,selfConsumptionPercent:this.savingsSelfConsumptionPercent,gridPrice:this.tariffGrid,feedInPrice:this.tariffFeedIn,currency:this.currency}}}},mounted(){this.updateDetailHeight(),window.addEventListener("resize",this.updateDetailHeight)},destroyed(){window.removeEventListener("resize",this.updateDetailHeight)},methods:{updateDetailHeight:function(){this.detailsHeight=this.$el.querySelector("[data-collapsible-details]").offsetHeight},toggleDetails(){this.updateDetailHeight(),this.detailsVisible=!this.detailsVisible}}},He={};var We=n(os,Ue,ns,!1,ls,"6e6f29f0",null,null);function ls(e){for(let a in He)this[a]=He[a]}We.options.__file="js/components/Site.vue";var cs=function(){return We.exports}(),Ke=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e.configured?t("Site",e._b({},"Site",e.state,!1)):t("div",{staticClass:"container"},[t("div",{staticClass:"row py-5"},[t("div",{staticClass:"col12"},[t("p",{staticClass:"h1 pt-5 pb-2 border-bottom"},[e._v("Willkommen bei evcc")]),t("p",{staticClass:"lead pt-2"},[t("b",[e._v("evcc")]),e._v(" ist dient zur flexiblen Ladesteuerung von Elektrofahrzeugen. ")]),t("p",{staticClass:"pt-2"},[e._v(" Es sieht aus, als w\xE4re Dein "),t("b",[e._v("evcc")]),e._v(" noch nicht konfiguriert. Um "),t("b",[e._v("evcc")]),e._v(" zu konfigurieren sind die folgenden Schritte notwendig: ")]),t("ol",{staticClass:"pt-2"},[t("li",[e._v(" Erzeugen einer Konfigurationsdatei mit Namen "),t("code",[e._v("evcc.yaml")]),e._v(". Die Standardkonfiguration "),t("code",[e._v("evcc.dist.yaml")]),e._v(" kann daf\xFCr als Vorlage dienen ("),t("a",{attrs:{href:"https://github.com/evcc-io/evcc/blob/master/evcc.dist.yaml"}},[e._v("Download")]),e._v("). ")]),t("li",[e._v("Konfiguration der Wallbox als "),t("code",[e._v("chargers")]),e._v(".")]),t("li",[e._v(" Konfiguration des EVU Z\xE4hlers und evtl. weiterer Z\xE4hler unter "),t("code",[e._v("meters")]),e._v(". ")]),t("li",[e._v(" Konfiguration des Netzanschlusses unter "),t("code",[e._v("site")]),e._v(". In einer Site wird der Netzanschluss mit dem konfigurierten EVU Z\xE4hler ("),t("code",[e._v("meter")]),e._v(") verbunden. ")]),t("li",[e._v(" Konfiguration eines Ladepunktes unter "),t("code",[e._v("loadpoints")]),e._v(". In einem Ladepunkt wird die konfigurierte Wallbox ("),t("code",[e._v("charger")]),e._v(") mit dem Ladepunkt verbunden. ")]),t("li",[e._v(" Start von "),t("b",[e._v("evcc")]),e._v(" mit der neu erstellten Konfiguration: "),t("code",[e._v("evcc -c evcc.yaml")])])]),t("p",[e._v("Minimale Beispielkonfiguration f\xFCr "),t("b",[e._v("evcc")]),e._v(":")]),t("p",[t("code",[t("pre",{staticClass:"mx-3"},[e._v(`                uri: localhost:7070 # Adresse f\xFCr UI
                interval: 10s # Regelintervall
                meters:
                - name: evu-z\xE4hler
                type: ... # Detailkonfiguration des EVU Z\xE4hlers
                - name: ladez\xE4hler
                type: ... # Detailkonfiguration des Ladez\xE4hlers (optional)
                chargers:
                - name: wallbox
                type: ... # Detailkonfiguration der Wallbox
                site:
                  title: Home
                  meters:
                  grid: evu-z\xE4hler # EVU Z\xE4hler
                loadpoints:
                - title: Ladepunkt # ui display name
                  charger: wallbox # charger
                  meters:
                    charge: ladez\xE4hler # Ladez\xE4hlers (optional)
              `)])])]),t("p",[e._v(" Viel Spass mit "),t("b",[e._v("evcc")]),e._v("! Bei Problemen kannst Du uns auf "),t("a",{attrs:{href:"https://github.com/evcc-io/evcc/issues"}},[e._v("GitHub")]),e._v(" erreichen. ")])])])])],1)},ds=[];Ke._withStripped=!0;const us={name:"Main",components:{Site:cs},data:function(){return this.$root.$data.store},computed:{configured:function(){const e=window.evcc.configured;return e==window.evcc.configured||!isNaN(parseInt(e))&&parseInt(e)>0}}},Ge={};var Oe=n(us,Ke,ds,!1,ps,null,null,null);function ps(e){for(let a in Ge)this[a]=Ge[a]}Oe.options.__file="js/views/Main.vue";var ms=function(){return Oe.exports}(),Ze=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container"},[t("div",{staticClass:"row mt-4 border-bottom"},[t("div",{staticClass:"col-12"},[t("p",{staticClass:"h1"},[e._v(e._s(e.title||"Home"))])])]),t("div",{staticClass:"row h5"},[t("div",{staticClass:"col-md-4"}),t("div",{staticClass:"col-6 col-md-2 py-3"},[e._v(" Netzz\xE4hler: "),e.gridConfigured?t("span",{staticClass:"text-primary"},[e._v("\u2713")]):t("span",{staticClass:"text-primary"},[e._v("\u2014")])]),t("div",{staticClass:"col-6 col-md-2 py-3"},[e._v(" PV Z\xE4hler: "),e.pvConfigured?t("span",{staticClass:"text-primary"},[e._v("\u2713")]):t("span",{staticClass:"text-primary"},[e._v("\u2014")])]),t("div",{staticClass:"col-6 col-md-2 py-3"},[e._v(" Batteriez\xE4hler: "),e.batteryConfigured?t("span",{staticClass:"text-primary"},[e._v("\u2713")]):t("span",{staticClass:"text-primary"},[e._v("\u2014")])])]),e._l(e.loadpoints,function(s,r){return t("div",{key:r,attrs:{id:"loadpoint-"+r,loadpoint:s}},[t("div",{staticClass:"row mt-4 border-bottom"},[t("div",{staticClass:"col-12"},[t("p",{staticClass:"h1"},[e._v(e._s(s.title||"Ladepunkt"))])])]),t("div",{staticClass:"row h5"},[t("div",{staticClass:"col-md-4"}),t("div",{staticClass:"col-6 col-md-2 py-3"},[e._v(" Ladez\xE4hler: "),s.chargeConfigured?t("span",{staticClass:"text-primary"},[e._v("\u2713")]):t("span",{staticClass:"text-primary"},[e._v("\u2014")])]),t("div",{staticClass:"col-6 col-md-2 py-3"},[e._v(" Phasen: "),t("span",{staticClass:"text-primary"},[e._v(e._s(s.phases)+"p")])]),t("div",{staticClass:"col-6 col-md-2 py-3"},[e._v(" Min. Strom: "),t("span",{staticClass:"text-primary"},[e._v(e._s(s.minCurrent)+"A")])]),t("div",{staticClass:"col-6 col-md-2 py-3"},[e._v(" Max. Strom: "),t("span",{staticClass:"text-primary"},[e._v(e._s(s.maxCurrent)+"A")])])]),t("div",{staticClass:"row h5"},[t("div",{staticClass:"col-md-4"}),t("div",{staticClass:"col-md-8 h2"},[e._m(0,!0),t("div",{staticClass:"row h5"},[t("div",{staticClass:"col-6 py-3"},[e._v(" Modell: "),t("span",{staticClass:"text-primary"},[e._v(e._s(s.vehicleTitle||"\u2014"))])]),t("div",{staticClass:"col-6 py-3"},[e._v(" Kapazit\xE4t: "),t("span",{staticClass:"text-primary"},[e._v(e._s(s.vehicleCapacity)+"kWh")])])])])])])})],2)},hs=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"row py-3 h2 border-bottom"},[t("div",{staticClass:"col-12"},[e._v("Fahrzeug")])])}];Ze._withStripped=!0;const vs={name:"Config",data:function(){return this.$root.$data.store.state}},qe={};var Ye=n(vs,Ze,hs,!1,gs,null,null,null);function gs(e){for(let a in qe)this[a]=qe[a]}Ye.options.__file="js/views/Config.vue";var fs=function(){return Ye.exports}();p.use(x);const _s=[{path:"/",component:ms},{path:"/config",component:fs}];var bs=new x({routes:_s,linkExactActiveClass:"active"}),Cs={header:{docs:"Dokumentation",blog:"Blog",github:"GitHub",about:"\xDCber evcc"},footer:{version:{versionShort:"evcc v{installed}",versionLong:"evcc {installed}",availableShort:"Update",availableLong:"Update verf\xFCgbar",modalTitle:"Update verf\xFCgbar",modalUpdateStarted:"Nach der Aktualisierung wird evcc neu gestartet.",modalInstalledVersion:"Aktuell installierte Version",modalNoReleaseNotes:"Keine Releasenotes verf\xFCgbar. Mehr Informationen zur neuen Version findest du hier:",modalCancel:"Abbrechen",modalUpdate:"Aktualisieren",modalUpdateNow:"Jetzt aktualisieren",modalDownload:"Download",modalUpdateStatusStart:"Aktualisierung gestartet: ",modalUpdateStatusFailed:"Aktualisierung nicht m\xF6glich: "},savings:{footerShort:"{percent}% Sonne",footerLong:"{percent}% Sonnenenergie",modalTitleShort:"{total} kWh geladen \xB7 {percent}% Sonne",modalTitleLong:"{total} kWh geladen \xB7 {percent}% Sonnenenergie",modalChartGrid:"Netz {grid} kWh",modalChartSelf:"Sonne {self} kWh",modalSavingsPrice:"Effektiver Energiepreis",modalSavingsTotal:"Ersparnis gegen\xFCber Netzbezug",modalExplaination:"Berechnung",modalExplainationGrid:"Netz {gridPrice}",modalExplainationFeedIn:"Einspeisung {feedInPrice}",modalServerStart:"Seit Serverstart {since}.",modalNoData:"noch nicht geladen",experimentalLabel:"experimentell",experimentalText:"Unplausible Werte? Fragen zur Ansicht? Meld dich gerne in den"},sponsor:{thanks:"Danke f\xFCr deine Unterst\xFCtzung, {sponsor}! Das hilft uns bei der Weiterentwicklung.",confetti:"Lust auf etwas Sponsor-Konfetti?",supportUs:"Wir m\xF6chten effizientes Zuhause-Laden zum Standard f\xFCr m\xF6glichst viele Menschen machen. Helfe uns indem du die Weiterentwicklung und Pflege des Projekts unterst\xFCtzt.",sticker:"...oder evcc Sticker?",confettiPromise:"Es gibt auch Sticker und digitales Konfetti ;)",becomeSponsor:"Werde jetzt GitHub Sponsor"}},notifications:{modalTitle:"Meldungen",dismissAll:"Meldungen entfernen"},main:{energyflow:{noEnergy:"Kein Energiefluss",homePower:"Verbrauch",pvProduction:"Erzeugung",loadpoints:"Ladepunkt | Ladepunkt | {count} Ladepunkte",battery:"Batterie",batteryCharge:"Batterie laden",batteryDischarge:"Batterie entladen",gridImport:"Netzbezug",selfConsumption:"Eigenverbrauch",pvExport:"Einspeisung"},mode:{offShort:"Aus",offLong:"Aus",nowShort:"Sofort",nowLong:"Sofort",minpvShort:"Min",minpvLong:"Min + PV",pvShort:"PV",pvLong:"Nur PV"},loadpoint:{fallbackName:"Ladepunkt",remoteDisabledSoft:"{source}: Adaptives PV-Laden deaktiviert",remoteDisabledHard:"{source}: Deaktiviert",power:"Leistung",charged:"Geladen",duration:"Dauer",remaining:"Restzeit"},vehicle:{fallbackName:"Fahrzeug",vehicleSoC:"Ladestand",targetSoC:"Ladeziel"},vehicleSoC:{disconnected:"getrennt",charging:"l\xE4dt",ready:"bereit",connected:"verbunden"},vehicleStatus:{minCharge:"Mindestladung bis {soc}%.",waitForVehicle:"Ladebereit. Warte auf Fahrzeug.",charging:"Ladevorgang aktiv.",targetChargePlanned:"Zielladen geplant. Ladung startet bald.",targetChargeWaitForVehicle:"Zielladen bereit. Warte auf Fahrzeug.",targetChargeActive:"Zielladen aktiv.",connected:"Verbunden.",pvDisable:"Zu wenig \xDCberschuss. Pausiere in {remaining}.",pvEnable:"\xDCberschuss verf\xFCgbar. Starte in {remaining}.",scale1p:"Reduziere auf einphasig in {remaining}.",scale3p:"Erh\xF6he auf dreiphasig in {remaining}.",unknown:""},targetCharge:{title:"Zielzeit",inactiveLabel:"Zielzeit",activeLabel:"bis {time} Uhr",modalTitle:"Zielzeit festlegen",description:"Wann soll das Fahrzeug auf <strong>{targetSoC}%</strong> geladen sein?",today:"heute",tomorrow:"morgen",targetIsInThePast:"Zeitpunkt liegt in der Vergangenheit.",remove:"Keine Zielzeit",activate:"Zielzeit aktivieren",experimentalLabel:"experimentell",experimentalText:`
        Diese Funktion ist in einem fr\xFChen Stadium. Der Algorithmus ist noch
        nicht perfekt. Die Zielzeit wird aktuell nicht persistiert - das
        hei\xDFt sie geht beim Neustart verloren. Verlasse dich also noch nicht
        zu sehr auf diese Funktion. Wir freuen uns aber \xFCber deine
        Erfahrungen und Verbessungsvorschl\xE4ge in den
      `}}},ys={header:{docs:"Documentation",blog:"Blog",github:"GitHub",about:"About evcc"},footer:{version:{versionShort:"v{installed}",versionLong:"Version {installed}",availableShort:"update",availableLong:"update available",modalTitle:"Update available",modalUpdateStarted:"Evcc will restart after the update..",modalInstalledVersion:"Currently installed version",modalNoReleaseNotes:"No release notes available. More information about the new version can be found here:",modalCancel:"Cancel",modalUpdate:"Update",modalUpdateNow:"Update now",modalDownload:"Download",modalUpdateStatusStart:"Update started: ",modalUpdateStatusFailed:"Update failed: "},savings:{footerShort:"{percent}% solar",footerLong:"{percent}% solar energy",modalTitleShort:"{total} kWh charged \xB7 {percent}% solar",modalTitleLong:"{total} kWh charged \xB7 {percent}% solar energy",modalChartGrid:"Grid energy {grid} kWh",modalChartSelf:"Solar energy {self} kWh",modalSavingsPrice:"Effective energy price",modalSavingsTotal:"Savings compared to grid",modalExplaination:"Calculation",modalExplainationGrid:"grid tariff {gridPrice}",modalExplainationFeedIn:"feed-in rate {feedInPrice}",modalServerStart:"since server start {since}.",modalNoData:"nothing charged yet",experimentalLabel:"experimental",experimentalText:"Implausible values? Questions about this view? Feel free to join our "},sponsor:{thanks:"Thanks for your support, {sponsor}! It helps us with the further development.",confetti:"Ready for some sponsor confetti?",supportUs:"We want to make efficient home charging the standard for as many people as possible. Help us by supporting the further development and maintenance of the project.",sticker:"...or evcc stickers?",confettiPromise:"There will be stickers and digital confetti ;)",becomeSponsor:"Become a GitHub Sponsor"}},notifications:{modalTitle:"Notifications",dismissAll:"Dismiss all"},main:{energyflow:{noEnergy:"No Energyflow",homePower:"Consumption",loadpoints:"Loadpoint | Loadpoint | {count} Loadpoints",pvProduction:"Production",battery:"Battery",batteryCharge:"Battery charge",batteryDischarge:"Battery discharge",gridImport:"Grid import",selfConsumption:"Self consumption",pvExport:"Grid export"},mode:{title:"Mode",stop:"Stop",now:"Now",minpvShort:"Min",minpvLong:"Min + PV",pvShort:"PV",pvLong:"PV only"},loadpoint:{fallbackName:"Loadpoint",remoteDisabledSoft:"{source}: adaptive PV charging disabled",remoteDisabledHard:"{source}: disabled"},vehicle:{fallbackName:"Vehicle"},vehicleSoC:{disconnected:"disconnected",charging:"charging",ready:"ready",connected:"connected"},vehicleSubline:{mincharge:"minimum charging to {soc}%"},targetCharge:{inactiveLabel:"Target time",activeLabel:"until {time}",modalTitle:"Set Target Time",description:"When should the vehicle be charged to <strong>{targetSoC}%</strong>?",today:"today",tomorrow:"tomorrow",targetIsInThePast:"The chosen time is in the past.",remove:"Remove",activate:"Activate",experimentalLabel:"experimental",experimentalText:`
        This function is at an early stage.
        The algorithm is not perfect yet.
        The target time is currently not persisted - this means, it will be lost when your server restarts.
        So do not rely too much on this function.
        However, we look forward to your experiences and suggestions for improvement in the
      `},loadpointDetails:{power:"Power",vehicleRange:"Range",charged:"Charged",duration:"Duration",remaining:"Remaining",tooltip:{phases:{scale1p:"Switching to single-phase in {remaining}.",scale3p:"Switching to three-phase in {remaining}.",charge1p:"Single-phase charging.",charge2p:"Two-phase charging.",charge3p:"Three-phase charging."},pv:{enable:"Solar available. Resume charging in {remaining}.",disable:"Not enough solar. Pause charging in {remaining}."}}}}},ws={header:{docs:"Documentazione",blog:"Blog",github:"GitHub"},footer:{version:{version:"versione",availableShort:"aggiornamento",availableLong:"aggiornamento disponibile",modalTitle:"Aggiornamento disponibile",modalUpdateStarted:"Evcc ripartir\xE0 dopo l'aggiornamento..",modalInstalledVersion:"Versione correntemente installata",modalNoReleaseNotes:"Non ci sono note di rilascio disponibili. Altre informazioni circa la nuova versione si trovano qui:",modalCancel:"Cancella",modalUpdate:"Aggiorna",modalUpdateNow:"Aggiorna ora",modalDownload:"Download",modalUpdateStatusStart:"Aggiornamento iniziato: ",modalUpdateStatusFailed:"Aggiornamento fallito: "},sponsor:{sponsoredShort:"grazie",sponsoredLong:"grazie {sponsor}",supportProjectShort:"supporto",supportProjectLong:"supporta questo progetto"}},notifications:{modalTitle:"Notifiche",dismissAll:"Rimuovi tutte"},main:{energyflow:{noEnergy:"No Energyflow",homePower:"Consumption",pvProduction:"Produzione",battery:"Batteria",batteryCharge:"Battery charge",batteryDischarge:"Battery discharge",gridImport:"Grid import",selfConsumption:"Self consumption",pvExport:"Grid export"},mode:{title:"Modalit\xE0",stop:"Stop",now:"Ora",minpvShort:"Min",minpvLong:"Min + FV",pvShort:"FV",pvLong:"Solo FV"},loadpoint:{fallbackName:"Punto di carica",remoteDisabledSoft:"{source}: Ricarica FV adattiva disabilitata",remoteDisabledHard:"{source}: Disabilitato"},vehicle:{fallbackName:"Veicolo"},vehicleSoC:{disconnected:"disconesso",charging:"carica",ready:"pronto",connected:"collegato"},vehicleSubline:{mincharge:"carica minima fino a {soc}%"},loadpointDetails:{power:"Potenza",vehicleRange:"Autonomia",charged:"Ricaricato",duration:"Duarata",remaining:"Rimanenti"}}};p.use($);function Ss(){const e=navigator.languages!==void 0?navigator.languages[0]:navigator.language;return e?e.trim().split(/-|_/)[0]:void 0}var xs=new $({locale:Ss(),fallbackLocale:"en",messages:{de:Cs,en:ys,it:ws}});f.options.offset=[0,10];f.options.themes.tooltip.triggers=["click","focus"];p.use(f);jt.polyfill();p.use(Rt);window.app=new p({el:"#app",router:bs,i18n:xs,data:{store:_,notifications:[]},methods:{raise:function(e){console[e.type](e);const a=new Date,t=this.notifications[0];t&&t.message===e.message?(t.count++,t.time=a):this.notifications=[S(g({},e),{count:1,time:a}),...this.notifications]},clear:function(){this.notifications=[]},error:function(e){e.type="error",this.raise(e)},warn:function(e){e.type="warn",this.raise(e)}},render:function(e){return e(Wt,{props:{notifications:this.notifications}})}});window.setInterval(function(){m.get("health").catch(function(){window.app.error({message:"Server unavailable"})})},5e3);
